## Across the board. This list contains every (prose) script in the game.
all_script_files = (
r'monday_script\monday_climax_both_survive.rpy',
r'monday_script\monday_climax_duke_dies.rpy',
r'monday_script\monday_climax_gretchen_dies.rpy',
r'monday_script\monday_climax_returned_early.rpy',
r'monday_script\monday_end.rpy',
r'monday_script\monday_part_2.rpy',
r'monday_script\monday_woods.rpy',
r'script.rpy',
r'special_scripts\dustin_meet.rpy',
r'special_scripts\recap_hub.rpy',
r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',
r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_obedient.rpy',
r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',
r'thursday_script\thurday_clinic\clinic_solo\opening\solo_clinic_pharmacy.rpy',
r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy',
r'thursday_script\thurday_clinic\clinic_solo\opening\solo_reese_closet.rpy',
r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_ext_solo.rpy',
r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy',
r'thursday_script\thurday_clinic\thursday_clinic_staging.rpy',
r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',
r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',
r'thursday_script\thursday_ending\solo\alone\thursday_solo_post_clinic_start.rpy',
r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_porch_tabitha.rpy',
r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy',
r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy',
r'thursday_script\thursday_ending\thursday_end.rpy',
r'thursday_script\thursday_ending\thursday_estate_end.rpy',
r'thursday_script\thursday_ending\thursday_stella_romance.rpy',
r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',
r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_other.rpy',
r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_start.rpy',
r'thursday_script\thursday_explore_nexus\oscar\maxwell\the_pack.rpy',
r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',
r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',
r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',
r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_nexus.rpy',
r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_romance.rpy',
r'thursday_script\thursday_explore_nexus\police\thursday_police.rpy',
r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',
r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',
r'thursday_script\thursday_explore_nexus\strike\diner\cut_and_duplicate_content\thursday_isaacs.rpy',
r'thursday_script\thursday_explore_nexus\strike\diner\cut_and_duplicate_content\tuesday_diner_cut_content.rpy',
r'thursday_script\thursday_explore_nexus\strike\diner\thursday_diner_strong.rpy',
r'thursday_script\thursday_explore_nexus\strike\diner\thursday_diner_weak.rpy',
r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_dig.rpy',
r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_strong.rpy',
r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy',
r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_weak.rpy',
r'thursday_script\thursday_explore_nexus\strike\thursday_strike_staging.rpy',
r'thursday_script\thursday_explore_nexus\thursday_church.rpy',
r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy',
r'thursday_script\thursday_explore_nexus\thursday_stella_explore.rpy',
r'thursday_script\thursday_road_to_town.rpy',
r'thursday_script\thursday_start.rpy',
r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy',
r'thursday_script\thursday_sybil\thursday_sybil.rpy',
r'tuesday_script\tuesday_library.rpy',
r'tuesday_script\tuesday_mines_arrival.rpy',
r'tuesday_script\tuesday_mines_path.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_end.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_staneeka.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_mines_tabitha.rpy',
r'tuesday_script\tuesday_mines_scripts\tuesday_ride_home.rpy',
r'tuesday_script\tuesday_start_stella.rpy',
r'tuesday_script\tuesday_start_tabitha.rpy',
r'tuesday_script\tuesday_town_merge.rpy',
r'tuesday_script\tuesday_town_stella.rpy',
r'tuesday_script\tuesday_town_tabitha.rpy',
r'wednesday_script\wednesday_end.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo_wrapup.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',
r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_tabitha_wrapup.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_avery.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_isaacs.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',
r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',
r'wednesday_script\wednesday_kitchen_street.rpy',
r'wednesday_script\wednesday_library\wednesday_library_default.rpy',
r'wednesday_script\wednesday_reese\wednesday_reese.rpy',
r'wednesday_script\wednesday_reese\wednesday_reese_placeholder.rpy',
r'wednesday_script\wednesday_start.rpy',
r'wednesday_script\wednesday_store.rpy',
r'wednesday_script\wednesday_town.rpy',
)

global glo_replacements_done, errors
pf_while_looped = 0

# this while loop runs the code indefinitely until we meet a breaking condition
while True:
    glo_replacements_done = 0
    pf_while_looped += 1
    
    # Prevents this while loop from running indefinitely
    if pf_while_looped >= 4:
        errors += 1
        print("NOTICE: preventing infinite 'while' loop.")
        break
    else:
        for x in all_script_files:
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                # change two dot ellipses without needlessly changing the twos inside of the threes. just trust me this works
                far_string_file(current_file_dir,
                "..",
                "...",
                far_mode="e",
                line_must_not_have="...",
                )
                
                # similar to above, this fixes lines which start or end with single apostrophes
                far_string_file(current_file_dir,
                "\"'",
                "\"''",
                far_mode="e",
                line_must_not_have="\"''",
                )
                
                far_string_file(current_file_dir,
                "'\"",
                "''\"",
                far_mode="e",
                line_must_not_have="''\"",
                )
                
                # This *should* fix dialogue lines that don't start with double apostrophes.
                far_string_file(current_file_dir,
                " \"",
                " \"''",
                far_mode="e",
                line_must_also_have="''\"",
                line_must_not_have=(" \"''"," \"("," \"{i}•","extend \""),
                )
                
                # will correct this common error of dialogue not ending in double apostrophes. LMNH contains many edge cases, hopefully all
                far_string_file(current_file_dir,
                "\"\n",
                "''\"\n",
                far_mode="e",
                line_must_also_have="\"''",
                line_must_not_have=("''\"","'' ","Tip:","{fast}\"\n","{nw}\"\n"),
                )
                
                # corrects weird issue where italic dialogue ends with a space
                far_string_file(current_file_dir,
                (" {/i}\""," {/i}''\""),
                ("{/i}\"","{/i}''\""),
                far_mode="e",
                line_must_not_have="previous_dialogue",
                )
                
                # misc error correction
                far_string_file(current_file_dir,
                ("{nw}''\"\n","extend \"''","\"''(","\"''... "),
                ("''{nw}\"\n","extend \"","\"(","\"''..."),
                far_mode="e",
                )
                
                # dots
                ## Cannot use idx_tup, see tabitha below
                if string_in_file(current_file_dir, "•"):
                    ## Same as above but for choices starting & ending with double apostrophes.
                    far_string_file(current_file_dir,
                    "\"{i}• ",
                    "\"{i}• ''",
                    far_mode="e",
                    line_must_also_have="''{/i}\"",
                    line_must_not_have=("• ''","•  ''","•   ''","• ("),
                    )
                    
                    far_string_file(current_file_dir,
                    "{/i}\"",
                    "''{/i}\"",
                    far_mode="e",
                    line_must_also_have="\"{i}• ''",
                    line_must_not_have=("''{/i}\"","'' "),
                    )
                
                    far_string_file(current_file_dir,
                    ("•  ","\"''{i}•","\"{i}• ''(","• '' ("),
                    ("• ","\"{i}•","\"{i}• (","• ("),
                    far_mode="e",
                    )
                    
                    # ensuring every menu option is italicized, as it should be
                    far_string_file(current_file_dir,
                    ("\"\n","\" if","\":"),
                    ("{/i}\"\n","{/i}\" if","{/i}\":"),
                    far_mode="e",
                    line_must_not_have="{/i}\"",
                    line_must_also_have="\"{i}•",
                    )
                    
                    # ensuring every double-trait option gives the proper achievement
                    glo_lines_update(current_file_dir)
                    for i in range(len(glo_lines)):
                        if "•" in glo_lines[i]:
                            if "(Book Smart and" in glo_lines[i] or "(Hot and" in glo_lines[i] or "(Keen Eye and" in glo_lines[i] or "(Mystical and" in glo_lines[i] or "(Powerful Build and" in glo_lines[i] or "(Street Smart and" in glo_lines[i]:
                                if "achievement.grant(\"ACH_combo\")" not in glo_lines[i+1]:
                                    replace_line(current_file_dir,i+1,(number_of_tabs(glo_lines[i+1])*"    ")+"$ achievement.grant(\"ACH_combo\")\n"+glo_lines[i+1])
                                    glo_lines_update(current_file_dir)
                
                # changing/removing {fast}
                idx_tup = string_in_file(current_file_dir, "{fast}", sif_mode="C")
                if idx_tup == ():
                    pass
                else:
                    far_string_file(current_file_dir,
                    ("{fast}''\"\n","{fast}{/i}\"\n"),
                    ("''{fast}\"\n","{/i}{fast}\"\n"),
                    far_mode="e",
                    )
                
                    glo_lines_update(current_file_dir)
                    pf_fast_replacements_done = 0
                    
                    # modernizes usage of previous_dialogue to the now-standard extend ""
                    for i in idx_tup:
                        # making sure this is a menu option
                        if ("menu" in glo_lines[i-1] and ":\n" in glo_lines[i-1]) or (glo_lines[i-1].replace(" ","")=="\n" and ("menu" in glo_lines[i-2] and ":\n" in glo_lines[i-2])):
                            if "{fast}\"\n" in glo_lines[i]:
                                glo_lines[i] = (number_of_tabs(glo_lines[i])*"    ")+"extend \"\"\n"
                                pf_fast_replacements_done += 1
                                glo_replacements_done += 1
                            
                    if pf_fast_replacements_done > 0:
                        out = open(current_file_dir, 'w', encoding='utf-8')
                        out.writelines(glo_lines)
                        out.close()
                        
                        if pf_fast_replacements_done == 1:
                            print("Successfully made 1 replacement.")
                        else:
                            print("Successfully made " + str(pf_fast_replacements_done) + " replacements.")
                
                # removing this bullshit
                idx_tup = string_in_file(current_file_dir, "    if forced_short:", sif_mode="C")
                if idx_tup == ():
                    pass
                else:
                    glo_lines_update(current_file_dir)
                    pf_unforce_replacements_done = 0
                    
                    for i in idx_tup:
                        if glo_lines[i+1].replace(" ","") == "$line_length=5\n":
                            if glo_lines[i+2].replace(" ","") in ("$forced_short=False\n","#$forced_short=False\n"):
                                pf_unforce_replacements_done += 1
                                glo_replacements_done += 1
                                
                                glo_lines[i+1] = (number_of_tabs(glo_lines[i+1])*"    ")+"pass\n"
                                glo_lines[i+2] = (number_of_tabs(glo_lines[i+2])*"    ")+"pass\n"
                        elif glo_lines[i+1].replace(" ","") in ("$forced_short=False\n","#$forced_short=False\n"):
                            if glo_lines[i+2].replace(" ","") == "$line_length=5\n":
                                pf_unforce_replacements_done += 1
                                glo_replacements_done += 1
                            
                                glo_lines[i+1] = (number_of_tabs(glo_lines[i+1])*"    ")+"pass\n"
                                glo_lines[i+2] = (number_of_tabs(glo_lines[i+2])*"    ")+"pass\n"
                                
                    if pf_unforce_replacements_done > 0:
                        out = open(current_file_dir, 'w', encoding='utf-8')
                        out.writelines(glo_lines)
                        out.close()
                        
                        if pf_unforce_replacements_done == 1:
                            print("Successfully made 1 replacement.")
                        else:
                            print("Successfully made " + str(pf_unforce_replacements_done) + " replacements.")
                
                # removing "line_length" and "previous_dialogue" since after all the above fixes, it's completely useless
                for word in ("line_length","previous_dialogue","fake_variable"):
                    idx_tup = string_in_file(current_file_dir, "$ "+word+" = ", sif_mode="Cc")
                    if idx_tup == ():
                        pass
                    else:
                        glo_lines_update(current_file_dir)
                        pf_linelength_replacements_done = 0
                        
                        for i in idx_tup:
                            glo_lines[i] = (number_of_tabs(glo_lines[i])*"    ")+"pass\n"
                            pf_linelength_replacements_done += 1
                            glo_replacements_done += 1
                            
                        if pf_linelength_replacements_done > 0:
                            out = open(current_file_dir, 'w', encoding='utf-8')
                            out.writelines(glo_lines)
                            out.close()
                            
                            if pf_linelength_replacements_done == 1:
                                print("Successfully made 1 replacement.")
                            else:
                                print("Successfully made " + str(pf_linelength_replacements_done) + " replacements.")
                
                if x == r'wednesday_script\wednesday_start.rpy':
                    far_string_file(current_file_dir,
                    "$ line_length= len(previous_dialogue)",
                    "pass",
                    far_mode="e",
                    )
                
                # ensuring that every instance of Tabitha doing her Smile™ has the player awarded the achievement
                ## We can't use idx list for this, what with lines being added.
                if string_in_file(current_file_dir, "show tabitha"):
                    glo_lines_update(current_file_dir)
                    for i in range(len(glo_lines)):
                        if "show tabitha" in glo_lines[i] and "smile" in glo_lines[i]:
                            tabby_smiles = (
                            "tabitha dr glance smile",
                            "tabitha dr smile",
                            "tabitha drn glance smile",
                            "tabitha drn smile",
                            "tabitha l glance smile",
                            "tabitha l smile",
                            "tabitha n r glance smile",
                            "tabitha n r old smile",
                            "tabitha n r smile",
                            "tabitha r glance smile",
                            "tabitha r old smile",
                            "tabitha r smile"
                            "tabitha wh smile",
                            )
                            
                            flag = False
                            
                            for x in tabby_smiles:
                                if glo_lines[i].replace("    ","") == "show "+x+"\n":
                                    flag = True
                                    break
                                elif glo_lines[i].replace("    ","").startswith("show "+x+" with "):
                                    flag = True
                                    break
                                elif glo_lines[i].replace("    ","").startswith("show "+x+" at "):
                                    flag = True
                                    break
                        
                            if flag == True:
                                if "achievement.grant(\"ACH_SMILE\")" in glo_lines[i+1]:
                                    pass
                                elif "achievement.grant(\"ACH_SMILE\")" in glo_lines[i-1]:
                                    pass
                                else:
                                    replace_line(current_file_dir,i,(number_of_tabs(glo_lines[i])*"    ")+"$ achievement.grant(\"ACH_SMILE\")\n"+glo_lines[i])
                                    glo_lines_update(current_file_dir)
                    
                # if string_in_file(current_file_dir,"achievement.grant"):
                    # glo_lines_update(current_file_dir)
                    # for i in range(len(glo_lines)):
                        # if "achievement.grant(\"ACH_combo\")" in glo_lines[i] and "achievement.grant(\"ACH_combo\")" in glo_lines[i+1]:
                            # print(i)
                        # elif "achievement.grant(\"ACH_SMILE\")" in glo_lines[i] and "achievement.grant(\"ACH_SMILE\")" in glo_lines[i+1]:
                            # print(i)
                    
                # Reports sus lines.
                # glo_lines_update(current_file_dir)
                # for i in range(len(glo_lines)):
                    # if "if gretchen_dead:" in glo_lines[i]:
                        # if "show stella tg" in glo_lines[i+1] or "show stella wg" in glo_lines[i+1]:
                            # print(str(i+1)+"\n"+glo_lines[i+1])
                        
                        # if "else:" in glo_lines[i+2]:
                            # if "show stella t " in glo_lines[i+3] or "show stella w " in glo_lines[i+3]:
                                # print(str(i+3)+"\n"+glo_lines[i+3])
                    # elif "if gretchen_dead == False:" in glo_lines[i]:
                        # if "show stella t " in glo_lines[i+1] or "show stella w " in glo_lines[i+1]:
                            # print(str(i+1)+"\n"+glo_lines[i+1])
                
                # for line in glo_lines:
                    # if "extend \"" in line:
                        # if line.count("''") >= 2:
                            # print(line)
                            # continue
                    # elif "{nw}" in line:
                        # if "{nw}\"\n" not in line:
                            # print(line)
                            # continue
                    # elif line.count("''") not in (0,2):
                        # print(line)
                        # continue
                    
                    # if line.count("{i}") != line.count("{/i}"):
                        # print(line)
                        # continue
                    # elif line.count("{b}") != line.count("{/b}"):
                        # print(line)
                        # continue
                    # elif line.count("{") != line.count("}"):
                        # print(line)
                        # continue
                        
                    # if "•" in line and not ("\"{i}•" in line and "{/i}\"" in line):
                        # print(line)
                        # continue
                        
                    # if "\" if" in line and "•" not in line:
                        # print(line)
                        # continue
                    # elif "\":\n" in line and line.replace("    ","").startswith("\"") and "•" not in line:
                        # print(line)
                        # continue
                        
                    # if ("    if" in line or "\" if" in line) and " = " in line:
                        # print(line)
                        # continue
                    # elif "if" not in line and "==" in line:
                        # print(line)
                        # continue
                
                # these don't do anything, commenting out
                # far_string_file(current_file_dir,
                # "(Explore) '",
                # "(Explore) ''",
                # far_mode="e",
                # line_must_not_have="(Explore) ''",
                # )
                
                # far_string_file(current_file_dir,
                # "• '",
                # "• ''",
                # far_mode="e",
                # line_must_not_have="• ''",
                # )
            except:
                patching_unsuccessful()
        
        # various people's names and titles
        for x in (r'special_scripts\recap_hub.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy',r'thursday_script\thursday_start.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("Froufrou","Dr. Kelly","Dr Kelly","pastor Daniel","officer Franklin","deputy Franklin"),
                ("Frou-frou","Doctor Kelly","Doctor Kelly","Pastor Daniel","Officer Franklin","Deputy Franklin"),
                far_mode="e"
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_church.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Sure thing, pastor D! Peace, y'all!",
            "Sure thing, Pastor D! Peace, y'all!"
            )
        except:
            patching_unsuccessful()

        ## TRAITS ##
        # Inconsistency with double trait options.
        all_traits = ("Book Smart","Hot","Keen Eye","Mystical","Powerful Build","Street Smart","Talk to Animals")
        
        try:
            try:
                pf_combos_correct = [(a, b) for idx, a in enumerate(all_traits) for b in all_traits[idx + 1:]]
            except:
                pf_combos_correct = [('Book Smart', 'Hot'), ('Book Smart', 'Keen Eye'), ('Book Smart', 'Mystical'), ('Book Smart', 'Powerful Build'), ('Book Smart', 'Street Smart'), ('Book Smart', 'Talk to Animals'), ('Hot', 'Keen Eye'), ('Hot', 'Mystical'), ('Hot', 'Powerful Build'), ('Hot', 'Street Smart'), ('Hot', 'Talk to Animals'), ('Keen Eye', 'Mystical'), ('Keen Eye', 'Powerful Build'), ('Keen Eye', 'Street Smart'), ('Keen Eye', 'Talk to Animals'), ('Mystical', 'Powerful Build'), ('Mystical', 'Street Smart'), ('Mystical', 'Talk to Animals'), ('Powerful Build', 'Street Smart'), ('Powerful Build', 'Talk to Animals'), ('Street Smart', 'Talk to Animals')]
            
            pf_combos_incorrect = pf_combos_correct[:]
            
            for i in range(len(pf_combos_correct)):
                pf_combos_correct[i] = " and ".join(pf_combos_correct[i])
                pf_combos_incorrect[i] = " and ".join(tuple(reversed(pf_combos_incorrect[i])))
        except:
            errors += 1
            print("ERROR while enumerating all_traits.")
        else:
            pf_combos_files = (
            r'monday_script\monday_climax_both_survive.rpy',
            r'monday_script\monday_climax_duke_dies.rpy',
            r'monday_script\monday_climax_gretchen_dies.rpy',
            r'monday_script\monday_part_2.rpy',
            r'monday_script\monday_woods.rpy',
            r'script.rpy',
            r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',
            r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_start.rpy',
            r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',
            r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',
            r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy',
            r'thursday_script\thursday_road_to_town.rpy',
            r'thursday_script\thursday_start.rpy',
            r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy',
            r'thursday_script\thursday_sybil\thursday_sybil.rpy',
            r'tuesday_script\tuesday_library.rpy',
            r'tuesday_script\tuesday_mines_path.rpy',
            r'tuesday_script\tuesday_start_tabitha.rpy',
            r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',
            r'wednesday_script\wednesday_hangouts\wednesday_avery.rpy',
            r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy',
            r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy',
            r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',
            r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',
            r'wednesday_script\wednesday_start.rpy',
            r'wednesday_script\wednesday_store.rpy',
            r'wednesday_script\wednesday_town.rpy',
            )

            for x in pf_combos_files:
                try:
                    current_file_dir = os.path.join(game_dir, x)
                    attempting_to_patch(current_file_dir)
                    
                    far_string_file(current_file_dir,
                    pf_combos_incorrect,
                    pf_combos_correct,
                    far_mode="el"
                    )
                except:
                    patching_unsuccessful()

        # (Explore) (Trait)
        pf_explorable = all_traits + ("Item","Romance","Flirt","Threaten","Intimidate","Tease")

        pf_explore_trait_correct = []
        pf_explore_trait_incorrect = []

        for x in pf_explorable:
            pf_explore_trait_correct.append("(Explore) ("+x+")")
            pf_explore_trait_incorrect.append("("+x+") (Explore)")

        for x in (r'monday_script\monday_part_2.rpy',r'thursday_script\thursday_sybil\thursday_sybil.rpy',r'tuesday_script\tuesday_library.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                pf_explore_trait_incorrect,
                pf_explore_trait_correct,
                far_mode="el",
                )
            except:
                patching_unsuccessful()

        # (Romance) (Hot) & (Flirt) (Hot)
        for x in (r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'thursday_script\thursday_road_to_town.rpy',r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_obedient.rpy',r'monday_script\monday_part_2.rpy',r'tuesday_script\tuesday_town_merge.rpy',r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_nexus.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("(Romance) (Hot)","(Flirt) (Hot)","(Flirt) (Powerful Build)","(Flirt) (Hot and Powerful Build)"),
                ("(Hot) (Romance)","(Hot) (Flirt)","(Powerful Build) (Flirt)","(Hot and Powerful Build) (Flirt)"),
                far_mode="el",
                )
            except:
                patching_unsuccessful()

        # (Threaten)/(Intimidate) (Powerful Build)
        for x in (r'monday_script\monday_woods.rpy',r'monday_script\monday_woods.rpy',r'script.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("(Threaten) (Powerful Build)","(Intimidate) (Powerful Build)"),
                ("(Powerful Build) (Threaten)","(Powerful Build) (Intimidate)"),
                far_mode="el",
                )
            except:
                patching_unsuccessful()
                
        # (...) (Lie)
        for x in (r'thursday_script\thursday_explore_nexus\strike\thursday_strike_staging.rpy',r'thursday_script\thursday_road_to_town.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("(Lie) (Street Smart)","(Lie) (Book Smart and Talk to Animals)","(Lie) (Talk to Animals)"),
                ("(Street Smart) (Lie)","(Book Smart and Talk to Animals) (Lie)","(Talk to Animals) (Lie)"),
                far_mode="el",
                )
            except:
                patching_unsuccessful()

        # weird things with traits being non italic
        pf_wti_find = []
        pf_wti_replace = []

        for trait in ("Mystical","Keen Eye","Street Smart"):
            pf_wti_find.append("("+trait+") {i}")
            pf_wti_replace.append("{i}("+trait+") ")

        for x in (r'tuesday_script\tuesday_mines_arrival.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                pf_wti_find,
                pf_wti_replace,
                far_mode="e",
                )
            except:
                patching_unsuccessful()

        # (Explore)''
        for x in (r'thursday_script\thursday_road_to_town.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "(Explore)''",
                "(Explore) ''",
                far_mode="e",
                )
            except:
                patching_unsuccessful()
                
        # double spacing after a trait
        pf_trait_ds_incorrect = []
        pf_trait_ds_correct = []
        
        for word in ("Powerful Build","Romance","Explore","Return"):
            pf_trait_ds_incorrect.append("("+word+")  ")
            pf_trait_ds_correct.append("("+word+") ")
        
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',r'thursday_script\thursday_start.rpy',r'wednesday_script\wednesday_hangouts\wednesday_isaacs.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                pf_trait_ds_incorrect,
                pf_trait_ds_correct,
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # dialogue having trait tag and not having double apostrophes. this is one of many ep 1 weirdnesses
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "p \"(Keen Eye) I",
                "p \"(Keen Eye) ''I",
                )
            except:
                patching_unsuccessful()
        ## END TRAITS ##
        
        ## PUNCTUATION ##
        # defancying Google Docs charas
        pf_google_defancy_list = (
        r'monday_script\monday_climax_both_survive.rpy',
        r'monday_script\monday_climax_duke_dies.rpy',
        r'monday_script\monday_climax_gretchen_dies.rpy',
        r'monday_script\monday_part_2.rpy',
        r'monday_script\monday_woods.rpy',
        r'script.rpy',
        r'special_scripts\recap_hub.rpy',
        r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',
        r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy',
        r'thursday_script\thursday_ending\thursday_estate_end.rpy',
        r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy',
        r'thursday_script\thursday_sybil\thursday_sybil.rpy',
        r'tuesday_script\tuesday_library.rpy',
        r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',
        r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',
        )
        
        for x in pf_google_defancy_list:
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("…","“","”","‘","’"),
                ("...","''","''","'","'"),
                far_mode="e",
                )
                
                if x == r'monday_script\monday_woods.rpy':
                    far_string_file(current_file_dir,
                    "the ''crime'' of",
                    "the 'crime' of",
                    )
            except:
                patching_unsuccessful()
        
        # front and back spacing
        pf_frontback_list = (
        r'monday_script\monday_climax_both_survive.rpy',
        r'monday_script\monday_climax_duke_dies.rpy',
        r'monday_script\monday_climax_gretchen_dies.rpy',
        r'monday_script\monday_part_2.rpy',
        r'monday_script\monday_woods.rpy',
        r'special_scripts\recap_hub.rpy',
        r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',
        r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',
        r'thursday_script\thurday_clinic\clinic_solo\opening\solo_clinic_pharmacy.rpy',
        r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',
        r'thursday_script\thursday_explore_nexus\strike\diner\cut_and_duplicate_content\thursday_isaacs.rpy',
        r'thursday_script\thursday_explore_nexus\thursday_church.rpy',
        r'thursday_script\thursday_road_to_town.rpy',
        r'tuesday_script\tuesday_library.rpy',
        r'tuesday_script\tuesday_mines_arrival.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_staneeka.rpy',
        r'tuesday_script\tuesday_mines_scripts\tuesday_mines_tabitha.rpy',
        r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy',
        r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',
        r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',
        r'wednesday_script\wednesday_hangouts\wednesday_isaacs.rpy',
        r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',
        r'wednesday_script\wednesday_start.rpy',
        )
        
        for x in pf_frontback_list:
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("\"'' "," ''\""),
                ("\"''","''\""),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # weird
        try:
            current_file_dir = os.path.join(game_dir, r'special_scripts\dustin_meet.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "opossum \"''[previous_dialogue]''{fast}\"",
            "opossum \"[previous_dialogue]{fast}\"",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
    
        # --
        for x in (r'monday_script\monday_woods.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "--",
                "—",
                far_mode="e",
                )
            except:
                patching_unsuccessful()
                
        # hyphenminus as em dash
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("thing- a friend","all bad- she doesn't"),
            ("thing— a friend","all bad— she doesn't"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_stella_explore.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "grin- an authentic",
            "grin— an authentic",
            )
        except:
            patching_unsuccessful()
        
        # en dash fixes
        for x in (r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "I–I'm sure [player_name] just means that metaphorically",
                "I-I'm sure [player_name] just means that metaphorically"
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_reese\wednesday_reese.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "K-12",
            "K–12"
            )
        except:
            patching_unsuccessful()
                
        # cut off dialogue using hyphenminus/en dash instead of em dash
        for x in (r'monday_script\monday_woods.rpy',r'tuesday_script\tuesday_town_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy',r'script.rpy',r'thursday_script\thursday_road_to_town.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("-''\"","–''\""),
                ("—''\"","—''\""),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        for x in (r'wednesday_script\wednesday_start.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("\"-''","\"–''"),
                ("\"—''","\"—''"),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # weird usage of en/em dashes as semicolons sort of? Have to go sort of case-by-case on this
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_town.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "People like Stella turn to conspiracy theories and the supernatural because they can't handle the truth– that our world is ruled by chaotic forces that don't follow any kind of logical pattern.",
            "People like Stella turn to conspiracy theories and the supernatural because they can't handle the truth: that our world is ruled by chaotic forces that don't follow any kind of logical pattern.",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "I'll make sure it's done before the week is out– I want to make sure I devote a lot of attention and care to the task.",
            "I'll make sure it's done before the week is out; I want to make sure I devote a lot of attention and care to the task.",
            )
            
            far_string_file(current_file_dir,
            "So, we come to the fourth option– get rid of whatever is haunting the Annex and keep saving for Rosalina's college fund until she's able to leave this place for good.",
            "So, we come to the fourth option: get rid of whatever is haunting the Annex and keep saving for Rosalina's college fund until she's able to leave this place for good.",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_road_to_town.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Oh, by the way. There's a strike going on. I'm sure you already know that though – have to imagine Tabitha would've told you this morning.",
            "Oh, by the way, there's a strike going on. I'm sure you already know that though; have to imagine Tabitha would've told you this morning.",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_stella_explore.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "It would take you all day to count the number of open tabs in Stella's browser. So numerous are her tabs that you can't see a single icon – a sea of rounded, featureless triangles from window's edge to window's edge.",
            "It would take you all day to count the number of open tabs in Stella's browser. So numerous are her tabs that you can't see a single icon, only a sea of rounded, featureless triangles from window's edge to window's edge.",
            )
            
            # less proper grammar is okay here since this is Stella writing this. Stella certainly wouldn't know how to type a god damn en dash, that's for sure.
            far_string_file(current_file_dir,
            "Hey everyone – was out chasing a skunk ape sighting the other day, and I found THESE weird lil' guys. My friend's mom says they're something called Ditchlings, but I've never heard of them before. Anyone have any good leads?",
            "Hey everyone, was out chasing a skunk ape sighting the other day, and I found THESE weird lil' guys. My friend's mom says they're something called Ditchlings, but I've never heard of them before. Anyone have any good leads?",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("Here's my number– call me when you get there, okay? And... good luck.","This wasn't— this wasn't the local wildlife, Mrs. Forsyth...","Sybil reaches over and pats your hand delicately. Hers feels like soft parchment paper— dry, but soothing.","''Don't push my boundaries''"),
                ("Here's my number; call me when you get there, okay? And... good luck.","This wasn't... this wasn't the local wildlife, Mrs. Forsyth...","Sybil reaches over and pats your hand delicately. Hers feels like soft parchment paper: dry, but soothing.","''Don't push my boundaries.''"),
                )
                
                far_string_file(current_file_dir,
                ("And you— whatever your name was—","''We're only a few minutes away now. Y'all had better keep it together until then''","''I.P. Freely''"),
                ("And you, whatever your name was—","''We're only a few minutes away now. Y'all had better keep it together until then.''","''I.P. Freely.''"),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}(Street Smart) There's a pleading anger to it. It is the sort of Look that says — 'you cannot flirt with me {b}and{/b} my friend's scary mom, what is wrong with you, [player_name]?!'{/i}\"",
            "\"{i}(Street Smart) There's a pleading anger to it. It is the sort of Look that says: ''You cannot flirt with me {b}and{/b} my friend's scary mom, what is wrong with you, [player_name]?!''{/i}\"",
            )
        except:
            patching_unsuccessful()
        
        # triple quotes errors
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• '''What's {b}{i}wrong{/i}{/b} with you?''{/i}\"",
            "\"{i}• ''What's {b}{i}wrong{/i}{/b} with you?''{/i}\"",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Keen Eye) '''The collapse. Packing the bags. Charlie returning in the garden. It's coming together.''{/i}\"",
            "\"{i}• (Keen Eye) ''The collapse. Packing the bags. Charlie returning in the garden. It's coming together.''{/i}\"",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_town.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("\"'''No. People","\"'''We're both only children","\"{i}• (Keen Eye) ''What are {b}you{/b} burying?'''{/i}\""),
            ("\"''No. People","\"''We're both only children","\"{i}• (Keen Eye) ''What are {b}you{/b} burying?''{/i}\""),
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        for x in (r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy',r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy',r'wednesday_script\wednesday_hangouts\wednesday_avery.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "\"{i}• (Book Smart) ''Stella thinks I don't know that the mayor is a dog.'''{/i}\"",
                "\"{i}• (Book Smart) ''Stella thinks I don't know that the mayor is a dog.''{/i}\"",
                )
            except:
                patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_store.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("\"{i}• (Explore) ''Is 'Big Betty' one of your chickens?'''{/i}\"","\"{i}• (Explore) (Book Smart) ''I read about your family's feud in the library.'''{/i}\"","\"{i}• (Explore) ''How's Bertie doing?'''{/i}\"","\"{i}• (Explore) ''Things have gotten worse.'''{/i}\"","\"{i}• (Explore) ''How have you been? Hanging in there?'''{/i}\"","\"{i}• (Explore) ''Who's Julius?'''{/i}\"","\"{i}• (Explore) ''Big Betty is a ... pumpkin?'''{/i}\"","\"{i}• (Explore) ''Those things we saw on Monday are called 'Ditchlings' and they're a bad omen.'''{/i}\"","\"{i}• (Explore) ''Have you seen any of them around your farm?'''{/i}\"","\"{i}• (Explore) ''Have you seen any of those creatures around your farm?'''{/i}\""),
            ("\"{i}• (Explore) ''Is 'Big Betty' one of your chickens?''{/i}\"","\"{i}• (Explore) (Book Smart) ''I read about your family's feud in the library.''{/i}\"","\"{i}• (Explore) ''How's Bertie doing?''{/i}\"","\"{i}• (Explore) ''Things have gotten worse.''{/i}\"","\"{i}• (Explore) ''How have you been? Hanging in there?''{/i}\"","\"{i}• (Explore) ''Who's Julius?''{/i}\"","\"{i}• (Explore) ''Big Betty is a... pumpkin?''{/i}\"","\"{i}• (Explore) ''Those things we saw on Monday are called 'Ditchlings' and they're a bad omen.''{/i}\"","\"{i}• (Explore) ''Have you seen any of them around your farm?''{/i}\"","\"{i}• (Explore) ''Have you seen any of those creatures around your farm?''{/i}\""),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"'''Don't shoot {b}{i}me{/i}{/b}?!''\"",
            "\"'''Don't shoot {b}{i}me{/i}{/b}'?!''\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_reese\wednesday_reese.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"'''Though I guess I have to wonder",
            "\"''Though I guess I have to wonder",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_start_stella.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''You're not my boss.'''\"",
            "\"''You're not my boss.''\"",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_isaacs.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''Yeah, yeah, I get it, you're independent and love to abandon your cousin when she explicitly asked you to stay close to her today. Very cool.'''\"",
            "\"''Yeah, yeah, I get it, you're independent and love to abandon your cousin when she explicitly asked you to stay close to her today. Very cool.''\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)

            far_string_file(current_file_dir,
            "\"''Don't you lay a finger on him.'''\"",
            "\"''Don't you lay a finger on him.''\""
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\thursday_stella_romance.rpy')
            attempting_to_patch(current_file_dir)

            far_string_file(current_file_dir,
            "\"''You might be surprised at what you can find.'''\"",
            "\"''You might be surprised at what you can find.''\""
            )
        except:
            patching_unsuccessful()
            
        # double space fixes
        for x in (r'monday_script\monday_woods.rpy', r'script.rpy', r'special_scripts\recap_hub.rpy', r'wednesday_script\wednesday_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ".  ",
                ". "
                )
            except:
                patching_unsuccessful()
        
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "morning,  where",
                "morning, where"
                )
                
                far_string_file(current_file_dir,
                "What? No. [player_name] is probably right. autosuggestion",
                "What? No. [player_name] is probably right. Autosuggestion"
                )
            except:
                patching_unsuccessful()
                
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_part_2.rpy',r'monday_script\monday_woods.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "stella  \"''",
                "stella \"''"
                )
            except:
                patching_unsuccessful()
                
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'script.rpy',r'tuesday_script\tuesday_library.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_staneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_tabitha.rpy',r'tuesday_script\tuesday_start_tabitha.rpy',r'tuesday_script\tuesday_town_stella.rpy',r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',r'wednesday_script\wednesday_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "=  ",
                "= "
                )
            except:
                patching_unsuccessful()
                
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'thursday_script\thursday_explore_nexus\thursday_church.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "and  ",
                "and "
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("avery  \"''","show  "),
            ("avery \"''","show "),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$  safe_reese_explore_who_approach = True",
            "$ safe_reese_explore_who_approach = True",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("Died  1918","been   turned"),
            ("Died 1918","been turned"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Died  1918",
            "Died 1918",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_other.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "be  careful",
                "be careful",
                )
            except:
                patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\maxwell\the_pack.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Your  powers",
            "Your powers",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\maxwell\the_pack.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Your  powers",
            "Your powers",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "if  ",
            "if ",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_church.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("show kaneeka th r  sigh","show kaneeka th r  glance skeptical talk"),
            ("show kaneeka th r sigh","show kaneeka th r glance skeptical talk"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "show kaneeka th r  closed talk",
            "show kaneeka th r closed talk",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'tuesday_script\tuesday_mines_arrival.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                " +  ",
                " + ",
                )
            except:
                patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("p  \"''","I mean just listen to the way she talks.","tabitha  \"''"),
            ("p \"''","I mean, just listen to the way she talks.","tabitha \"''"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "for  snitching",
            "for snitching",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "show  ",
            "show ",
            )
        except:
            patching_unsuccessful()

        # no dot fix
        for x in (r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "{i} ''",
                "{i}• ''"
                )
                
                far_string_file(current_file_dir,
                "{i}  Lean back",
                "{i}• Lean back",
                far_mode="e"
                )
            except:
                patching_unsuccessful()

        # ..? fix
        for x in (r'tuesday_script\tuesday_library.rpy',r'special_scripts\recap_hub.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "n..?",
                "n...?"
                )
            except:
                patching_unsuccessful()
                
        # !?
        for x in (r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo_wrapup.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "!?",
                "?!",
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # incorrect italic to period
        for x in (r'monday_script\monday_part_2.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy',r'wednesday_script\wednesday_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("{/b}{/i}.\"","{/i}.\""),
                ("{/b}{/i}.{/i}\"",".{/i}\""),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # ....
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_woods.rpy',r'script.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "....",
                "...",
                far_mode="e",
                line_must_not_have="stick \"",
                )
            except:
                patching_unsuccessful()
        
        # space-...-space
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_line_file(current_file_dir,
                "            alexis \"''You're the nicest person I know. ... Rosalina?''\"\n",
                "            alexis \"''You're the nicest person I know, Rosalina, this just isn't {b}{i}fair.{/i}{/b}''\"\n            show alexis rubble l scared talk\n            alexis \"''...Rosalina? Can you hear me?''\"\n",
                )
                
                glo_lines_update(current_file_dir)
                
                if glo_lines[glo_lines.index("            alexis \"''You're the nicest person I know, Rosalina, this just isn't {b}{i}fair.{/i}{/b}''\"\n")-1] != "            show alexis rubble l cry talk\n":
                    replace_line(current_file_dir, glo_lines.index("            alexis \"''You're the nicest person I know, Rosalina, this just isn't {b}{i}fair.{/i}{/b}''\"\n")-1, "            show alexis rubble l cry talk\n")
                    
                # patching up my own mistakes. consistency????
                far_string_file(current_file_dir,
                ("alexis \"''You're the nicest person I know.''\"","alexis \"''...Rosalina?''\"","rosalina \"''Still awake. Just... hurts like {b}{i}hell.{/i}{/b}''\"","alexis \"''If I hadn't stuck with Becka, maybe... I don't know. Maybe it would have been different. It's just not fair that this happened to you.''\"","Jesus H Christ"),
                ("alexis \"''You're the nicest person I know, Rosalina, this just isn't {b}{i}fair.{/i}{/b}''\"","alexis \"''...Rosalina? Can you hear me?''\"","rosalina \"''Yeah, still awake... just... hurts like {b}{i}hell.{/i}{/b}''\"","alexis \"''If I hadn't stuck with Becka, maybe... I don't know. Maybe it would have been different. And then you wouldn't... you wouldn't be...''\"","Jesus H. Christ"),
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''Hello, what's your...? Hello? ... Is this some kind of prank? Franklin, come listen to this.''\"",
            "\"''Hello, what's your...? Hello? ...Is this some kind of prank? Franklin, come listen to this.''\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "me? ... Maybe it's working. Keep it up and see.",
            "me? ...Maybe it's working. Keep it up and see.",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''I baked some cookies last night after we got home! ... I was a little restless.''",
            "''I baked some cookies last night after we got home! ...I was a little restless.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_reese\wednesday_reese.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Yeah! ... Wait, do we?''",
            "''Yeah! ...Wait, do we?''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_store.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Big Betty is a ... pumpkin?''",
            "''Big Betty is a... pumpkin?''",
            )
        except:
            patching_unsuccessful()
            
        # weird specific thing
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''I'm just not that big on 'nature.'' It's dark as hell, there are thorny bushes everywhere. Not to mention the {b}{i}bugs{/i}{/b}...\"",
            "\"''I'm just not that big on 'nature.' It's dark as hell, there are thorny bushes everywhere. Not to mention the {b}{i}bugs{/i}{/b}...''\"",
            )
        except:
            patching_unsuccessful()
        
        # no idea how this cropped up
        for x in (r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_part_2.rpy',r'monday_script\monday_woods.rpy',r'script.rpy',r'thursday_script\thursday_ending\thursday_stella_romance.rpy',r'tuesday_script\tuesday_mines_path.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_ride_home.rpy',r'tuesday_script\tuesday_start_stella.rpy',r'tuesday_script\tuesday_start_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("• ''  ''","• '' ''"),
                ("• ''","• ''"),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # non-triple ellipses
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''Oh. And I'm uh... sorry for your loss..''\"",
            "\"''Oh. And I'm uh... sorry for your loss.''\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_obedient.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''Y-you.. You're {b}{i}real{/i}{/b}...''\"",
            "\"''Y-you... You're {b}{i}real{/i}{/b}...''\"",
            )
        except:
            patching_unsuccessful()
            
        for x in (r'thursday_script\thursday_ending\solo\alone\thursday_solo_post_clinic_start.rpy',r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "\"''I just had to go somewhere and do some thinking. I... haven't been doing too great today..''\"",
                "\"''I just had to go somewhere and do some thinking. I... haven't been doing too great today.''\"",
                )
            except:
                patching_unsuccessful()
        
        # no ending period
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''Maybe she is pretty cute. In an ugly kind of way''","''He can be a little rough around the edges, but in like... a funny way. Maybe you could learn something from him''"),
            ("''Maybe she is pretty cute. In an ugly kind of way.''","''He can be a little rough around the edges, but in like... a funny way. Maybe you could learn something from him.''"),
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Nice! Glad you're able to keep an open mind. Once we're back in civilization, I have a stockpile of videos and interviews that'll blow your mind''",
            "''Nice! Glad you're able to keep an open mind. Once we're back in civilization, I have a stockpile of videos and interviews that'll blow your mind.''",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''You're the one who called me in a panic to come save you, so get out of the way and let me {b}{i}save you{/i}{/b} already''",
            "''You're the one who called me in a panic to come save you, so get out of the way and let me {b}{i}save you{/i}{/b} already!''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''You're the one who called me in a panic to come save you, so get out of the way and let me {b}{i}save you{/i}{/b} already''",
            "''You're the one who called me in a panic to come save you, so get out of the way and let me {b}{i}save you{/i}{/b} already!''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''Maybe there's something spooky going on right now and we haven't realized it yet''","''If she knows you know, she might do something to keep you quiet, and then she would be free to lock me down here. She take my electronics so I couldn't call for help, paint over the windows and have me totally dependent on her. Possibly forever''"),
            ("''Maybe there's something spooky going on right now and we haven't realized it yet.''","''If she knows you know, she might do something to keep you quiet, and then she would be free to lock me down here. She might take my electronics so I couldn't call for help, paint over the windows and have me totally dependent on her. Possibly forever.''"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''I feel like that was forbidden knowledge''",
            "''I feel like that was forbidden knowledge.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\solo_reese_closet.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''There's no one I'd rather be stuck in an enclosed space with''","''Okay... if you're sure''"),
            ("''There's no one I'd rather be stuck in an enclosed space with.''","''Okay... if you're sure.''"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''Okay, Doc. Stick me with it''","''Ghost made me old''"),
            ("''Okay, Doc. Stick me with it.''","''Ghost made me old.''"),
            )
        except:
            patching_unsuccessful()
            
        for x in (r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "''It's okay. I should have talked to somebody. I shouldn't have just run off without an explanation''",
                "''It's okay. I should have talked to somebody. I shouldn't have just run off without an explanation.''",
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Never again. I promise''",
            "''Never again. I promise.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\thursday_stella_romance.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Nah, just Gretchen''",
            "''Nah, just Gretchen...''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_other.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''The spirit is gone, but I can still feel something calling out from that place. I don't know what risk it may pose, but we shouldn't go down there''",
            "''The spirit is gone, but I can still feel something calling out from that place. I don't know what risk it may pose, but we shouldn't go down there.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_nexus.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''Well, I've seen enough. Time to go''","''It probably wouldn't hurt to check in at the clinic after we've found her. I'm worried about Reese''"),
            ("''Well, I've seen enough. Time to go.''","''It probably wouldn't hurt to check in at the clinic after we've found her. I'm worried about Reese.''"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "The place was a mess''",
            "The place was a mess.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\strike\diner\thursday_diner_weak.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''I'm no snitch. You can trust me''",
            "''I'm no snitch. You can trust me.''",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_strong.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_weak.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("''Good. Tabitha had this coming''","''It was an empty threat. He's not gonna follow-through''"),
                ("''Good. Tabitha had this coming.''","''It was an empty threat. He's not gonna follow through.''"),
                )
            except:
                patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("''I'm going to do whatever it takes to find her''","''It was an empty threat. He's not gonna follow-through''"),
            ("''I'm going to do whatever it takes to find her.''","''It was an empty threat. He's not gonna follow through.''"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_church.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Physically, I wish I had answers. I wish I could approach a scientist about this without becoming a research experiment''",
            "''Physically, I wish I had answers. I wish I could approach a scientist about this without becoming a research experiment.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Magic, probably. But there's only one way to find out! Let's go''",
            "''Magic, probably. But there's only one way to find out! Let's go!''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_road_to_town.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Are y'all sure we need to go looking for Stella? She's a grown woman, she's allowed to be by herself if she wants''",
            "''Are y'all sure we need to go looking for Stella? She's a grown woman, she's allowed to be by herself if she wants.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''You don't have to listen to your mom, you know. You're an adult. Let's get out of here''",
            "''You don't have to listen to your mom, you know. You're an adult. Let's get out of here.''",
            )
            
            far_string_file(current_file_dir,
            "but...I mean",
            "but... I mean",
            )
            
            far_string_file(current_file_dir,
            "I've got that appointment at the clinic. it's a good opportunity",
            "I've got that appointment at the clinic. It's a good opportunity",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_library.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Oh, you {b}{i}rascal{/i}{/b}, [player_name]''",
            "''Oh, you {b}{i}rascal{/i}{/b}, [player_name]!''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Well, if y'all are itching to get started, it's through the back. Follow me''",
            "''Well, if y'all are itching to get started, it's through the back. Follow me.''",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("''You hated the way your father destroyed your family. Don't become in death what you despised so much in life''","''I'm sorry, I didn't know things would be like this''"),
                ("''You hated the way your father destroyed your family. Don't become in death what you despised so much in life.''","''I'm sorry, I didn't know things would be like this.''"),
                )
            except:
                patching_unsuccessful()
        
        for x in (r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "''We'll get you out somehow, Avery! I promise''",
                "''We'll get you out somehow, Avery! I promise.''",
                )
            except:
                patching_unsuccessful()
                
        # missing chara tags
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "    \"''Maybe we can start fresh tonight.''\"",
            "    tabitha \"''Maybe we can start fresh tonight.''\"",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "    \"''Maybe you could learn something from him.''\"",
            "    stella \"''Maybe you could learn something from him.''\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "    \"''Can you give me a tour first?''\"",
            "    p \"''Can you give me a tour first?''\"",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("    \"''He goes by Wayne and I think he used to work at the mines here.''\"","    \"''Come on, the way out isn't too far, but we gotta go now.''\""),
                ("    p \"''He goes by Wayne and I think he used to work at the mines here.''\"","    p \"''Come on, the way out isn't too far, but we gotta go now.''\""),
                )
            except:
                patching_unsuccessful()
        
        # thank you,
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Thank you Zane",
            "Thank you, Zane",
            )
        except:
            patching_unsuccessful()
        
        # missing dot
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_climax_duke_dies.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i} You feel a buzz in your pocket.{/i}\"",
            "\"{i}You feel a buzz in your pocket.{/i}\"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i} (Mystical) ''There's something terrible out there, Stella.''{/i}\"",
            "\"{i}• (Mystical) ''There's something terrible out there, Stella.''{/i}\"",
            )
            
            far_string_file(current_file_dir,
            "\"{i} (Keen Eye) ''Everything else went quiet.''{/i}\"",
            "\"{i}• (Keen Eye) ''Everything else went quiet.''{/i}\"",
            )
        except:
            patching_unsuccessful()
        
        # Lines not ending in periods
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''That's what I thought, but I've lost my passion for it''",
            "''That's what I thought, but I've lost my passion for it.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Have any of you seen Stella? We haven't been able to find her since everyone left the library last night''",
            "''Have any of you seen Stella? We haven't been able to find her since everyone left the library last night.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "'''Ditch-things?' Aren't they those 'creatures' you were yammering on about the other day? I don't see what that has to do with my workers striking''",
            "'''Ditch-things?' Aren't they those 'creatures' you were yammering on about the other day? I don't see what that has to do with my workers striking.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_library.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Those boots are too big to be Tabitha's''",
            "''Those boots are too big to be Tabitha's.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''This was a mistake, then. I shouldn't have come here''",
            "''This was a mistake, then. I shouldn't have come here.''",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_isaacs.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''That's... appreciated''",
            "''That's... appreciated.''",
            )
        except:
            patching_unsuccessful()
        
        # misc fix
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_climax_duke_dies.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "{i}You text Tabitha back and let her know you're okay. Your message sits 'unread.''{/i}",
            "{i}You text Tabitha back and let her know you're okay. Your message sits 'unread.'{/i}",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        for x in (r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_climax_both_survive.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "Your message sits 'unread.'",
                "Your message sits 'unread'.",
                )
            except:
                patching_unsuccessful()
        
        # misc apostrophe errors
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_mines_arrival.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("\"''{i}''","''{/i}''\"","\"{i}''","''{/i}\""),
            ("\"''{i}","{/i}''\"","\"''{i}","{/i}''\""),
            line_must_not_have="•"
            )
            
            far_string_file(current_file_dir,
            ("\"''{b}{i}Pant, pant...{/i}{/b}. ''Hey y'all! How was the ride?''\"","\"{i}The miners straighten up, suddenly very serious.''{/i}\"","\"{i}''That woman's hiding {b}a lot{/b} of things. But if some of those things are related to what's happening in town...{/i}\""),
            ("\"''{b}{i}Pant, pant...{/i}{/b}. Hey y'all! How was the ride?''\"","\"{i}The miners straighten up, suddenly very serious.{/i}\"","\"''{i}That woman's hiding {b}a lot{/b} of things. But if some of those things are related to what's happening in town...{/i}''\""),
            )
        except:
            patching_unsuccessful()
        
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "\"''{i}Uh, we're doing this {b}because{/b} Tabitha is really cool. She doesn't let anyone boss her around, so we can't just let her boss {b}us{/b} around.''{/i}''\"",
                "\"''{i}Uh, we're doing this {b}because{/b} Tabitha is really cool. She doesn't let anyone boss her around, so we can't just let her boss {b}us{/b} around.{/i}''\"",
                )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "• (Powerful Build) Snap her out of it!''",
            "• (Powerful Build) Snap her out of it!",
            )
        except:
            patching_unsuccessful()
        
        # misc italic tags
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}How dare this establishment try to give you free food. You refuse to accept anything you haven't rightfully {b}earned{/b}{/i}.{/i}\"",
            "\"{i}How dare this establishment try to give you free food. You refuse to accept anything you haven't rightfully {b}earned{/b}.{/i}\"",
            )
        except:
            patching_unsuccessful()
            
        for x in (r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "\"{i}(Keen Eye) A flash of pain in Stella's eyes tells you that she's keenly aware of everything that's happening right now. She is in {b}agony{/b}{/i}.{/i}\"",
                "\"{i}(Keen Eye) A flash of pain in Stella's eyes tells you that she's keenly aware of everything that's happening right now. She is in {b}agony{/b}.{/i}\"",
                )
            except:
                patching_unsuccessful()
        
        for x in (r'tuesday_script\tuesday_library.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',r'script.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("{/i}''\" if","{/i}''\":"),
                ("''{/i}\" if","''{/i}\":"),
                )
            except:
                patching_unsuccessful()
                
        for x in (r'script.rpy',r'tuesday_script\tuesday_library.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "{/i}''{/i}\"",
                "''{/i}\"",
                line_must_also_have="•",
                )
            except:
                patching_unsuccessful()
        ## END PUNCTUATION ##

        ## SPELLING OF WORDS ##
        # making froufrou's dialogue more accurately portray her accent. This is maybe a bit excessive but I think dipping deeper down into the bit makes it funnier
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            glo_lines_update(current_file_dir)
            
            if glo_lines[(string_in_file(current_file_dir, "Ne me parle pas.", sif_mode="B"))+1] == "                menu:\n":
                replace_line(current_file_dir, (string_in_file(current_file_dir, "Ne me parle pas.", sif_mode="B"))+1, "                $ forced_short = True\n                menu:\n")
            
            far_string_file(current_file_dir,
            ("Your French iz terrible. Disgusting. How dare you defile my language with your clumsy American tongue?","Bastard! How dare your filthy ape hands reach for me. I would sooner smear myself with sewage than be touched by you.","No, you may not 'pet' me. I would sooner smear myself with sewage than be touched by your filthy ape-hands.","If you won't take the hint, I suppose I'll have to take things into my own hands.","Ugh. You talked to that disgusting little rat? Who lives in this house is none of your concern.","What is that expression? Curiosity killed the cat? Keep poking your head where it doesn't belong and you might not keep it for very long.","It's good to see that you've finally learned your place.","Tu me dégoutes. Did something break in that tiny brain of yours?","Oh ho ho. Tabitha will {b}{i}love{/i}{/b} this.","Of course. How typically American. I shall debase myself by speaking your tongue, but only so zhat I might insult you directly to your face, you uncultured swine.","How {b}{i}dare{/i}{/b} you insult me! You filthy American who speaks in this bastard English! I shall debase myself by speaking your tongue, but only so zhat I might insult you directly to your face, you uncultured swine.","Ugh. Another filthy American sticking their business where it doesn't belong.","Spare me your life story. Tabitha at least knows not to bother me."),
            ("Your French iz terrible. Disgusting. 'ow dare you defile my language with your clumsy American tongue?","Bastard! 'ow dare your filthy ape 'ands reach for me. I would sooner smear myself with sewage zan be touched by you.","No, you may not 'pet' me. I would sooner smear myself with sewage zan be touched by your filthy ape-'ands.","If you won't take ze 'int, I suppose I'll 'ave to take zings into my own 'ands.","Ugh. You talked to zat disgusting little rat? Oo lives in zis house iz none of your concern.","What iz zat expression? 'Curiosity killed ze cat'? Keep poking your head where eet doesn't belong and you might not keep eet for very long.","Eet's good to see zat you've finally learned your place.","Tu me dégoutes. Did something break in zat tiny brain of yours?","Oh ho ho. Tabitha will {b}{i}love{/i}{/b} zis.","Of course. 'ow typically American. I shall debase myself by speaking your tongue, but only so zat I might insult you directly to your face, you uncultured swine.","'ow {b}{i}dare{/i}{/b} you insult me! You filthy American oo speaks in zis bastard English! I shall debase myself by speaking your tongue, but only so zat I might insult you directly to your face, you uncultured swine.","Ugh. Another filthy American sticking zeir business where eet doesn't belong.","Spare me your life story. Tabitha at least knows not to bozer me."),
            #line_must_also_have="froufrou \"",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_start_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("I see {b}{i}you{/i}{/b} are still here... how unfortunate.","I believe we 'ave been over this. That filthy pair of hands will not befoul my fur.","That filthy pair of hands will not befoul my fur.","Who would 'ave thought we had anything in common...","Your voice is the only 'orrible thing I have witnessed as of late.","And for the record, no. I don't. Now stop bothering me.","Ce cerbère vit toujours?! That creature has not yet returned to whatever vile pit of hell it crawled from?","It seems you make a habit of bad first impressions, non?","Why even bother to ask if you were just going to try and defile my pristine coat anyways?!","Merde! Truly ours is not a kind god."),
            ("I see {b}{i}you{/i}{/b} are still 'ere... 'ow unfortunate.","I believe we 'ave been over zis. Zat filthy pair of 'ands will not befoul my fur.","Zat filthy pair of 'ands will not befoul my fur.","Oo would 'ave thought we 'ad anything in common...","Your voice iz ze only 'orrible thing I 'ave witnessed as of late.","And for ze record, no. I don't. Now stop bozering me.","Ce cerbère vit toujours?! Zat creature 'as not yet returned to whatever vile pit of 'ell eet crawled from?","Eet seems you make a 'abit of bad first impressions, non?","Why even bozer to ask if you were just going to try and defile my pristine coat anyways?!","Merde! Truly ours iz not a kind god."),
            line_must_also_have="froufrou \"",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Explore) ''Excuse me, ma'am, may I pet you?''{/i}\" if tuesday_froufrou_pet_ask == False:",
            "\"{i}• (Explore) ''Excuse me, ma'am, may I pet you?''{/i}\" if tuesday_froufrou_pet_ask == False and tuesday_froufrou_pet == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Explore) ''I don't want to be here either.''{/i}\" if tuesday_froufrou_snark == False:",
            "\"{i}• (Explore) ''I don't want to be here either.''{/i}\" if tuesday_froufrou_snark == False and tuesday_froufrou_count == 1:",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("Three humans at once. Zis is abhorrent. Your stink will linger here for hours... how am I to bear it?"),
            ("Three 'umans at once. Zis iz abhorrent. Your stink will linger 'ere for hours... 'ow am I to bear eet?"),
            line_must_also_have="froufrou \"",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_start.rpy')
            attempting_to_patch(current_file_dir)
            
            glo_lines_update(current_file_dir)
            
            if glo_lines[(string_in_file(current_file_dir, "Oh... c'est toi. Qu'est-ce que tu veux maintenant?", sif_mode="B"))+1] == "                if wednesday_player_sacrifice:\n":
                replace_line(current_file_dir, (string_in_file(current_file_dir, "Oh... c'est toi. Qu'est-ce que tu veux maintenant?", sif_mode="B"))+1, "                    if wednesday_player_sacrifice == False:\n                        $ forced_short = True\n                if wednesday_player_sacrifice:\n")
            
            far_string_file(current_file_dir,
            ("Every day zhat we open our eyes, we are making a deal with life. All of us are stones on ze shore, weathered a little more each day by the relentless tides of time.","We will all be ground to dust by an uncaring universe. But that is ze beauty of life.","Eet has been known to 'appen... perhaps one day, when you have earned ze right. But don't count on it, deezgusting human.","I am not here to be your... comment dit-on? Chien détective. Je suis une chatte. I am here to watch you flail about in the ze darkness.","I am not here to provide answers to whatever mysteries confound your feeble American mind.","Of course you would consider zose rats to be your 'friends'. I will not dirty my claws with their diseased flesh.","Wait... there iz... something different with you. Have ze years finally caught up to you?"),
            ("Every day zat we open our eyes, we are making a deal with life. All of us are stones on ze shore, weathered a little more each day by ze relentless tides of time.","We will all be ground to dust by an uncaring universe. But zat iz ze beauty of life.","Eet 'as been known to 'appen... perhaps one day, when you 'ave earned ze right. But don't count on eet, deezgusting human.","I am not 'ere to be your... comment dit-on? Chien détective. Je suis une chatte. I am 'ere to watch you flail about in ze darkness.","I am not 'ere to provide answers to whatever mysteries confound your feeble American mind.","Of course you would consider zose rats to be your 'friends'. I will not dirty my claws with zeir diseased flesh.","Wait... zere iz... something different with you. 'ave ze years finally caught up to you?"),
            line_must_also_have="froufrou \"",
            )
        except:
            patching_unsuccessful()
        
        # long-term
        for x in (r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "long term",
                "long-term",
                )
            except:
                patching_unsuccessful()
        
        # follow-through is only hyphenated as a noun, not as a verb.
        for x in (r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_strong.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_weak.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "gonna follow-through",
                "gonna follow through",
                )
            except:
                patching_unsuccessful()
        
        # "try and" is probably one of my top pet peeves when it comes to grammar
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_woods.rpy',r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy',r'thursday_script\thursday_ending\thursday_estate_end.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_store.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("Try and","try and"),
                ("Try to","try to"),
                far_mode="e",
                line_must_not_have="''",# this ensures dialogue is spared. "try and" is acceptable in spoken dialogue IRL and in fiction, but in narration? unacceptable. go to jail.
                )
            except:
                patching_unsuccessful()
        
        # 'til
        for x in (r'tuesday_script\tuesday_start_tabitha.rpy',r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy',r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                (" til ","'till"),
                (" 'til ","'til"),
                )
            except:
                patching_unsuccessful()
        
        # jeez
        for x in (r'monday_script\monday_woods.rpy',r'script.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy',r'thursday_script\thursday_start.rpy',r'tuesday_script\tuesday_town_merge.rpy',r'tuesday_script\tuesday_town_stella.rpy',r'tuesday_script\tuesday_town_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy',r'wednesday_script\wednesday_town.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("geez","Geez"),
                ("jeez","Jeez"),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # judgement
        for x in (r'monday_script\monday_part_2.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_ext_solo.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_ext_solo.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_bo.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',r'thursday_script\thursday_sybil\thursday_sybil.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_ride_home.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "judgment",
                "judgement",
                line_must_not_have="oscar_hangout_rosalina_hurt_player_judgment",
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # grey
        for x in (r'monday_script\monday_woods.rpy',r'script.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy',r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\the_pack.rpy',r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_romance.rpy',r'thursday_script\thursday_explore_nexus\strike\thursday_strike_staging.rpy',r'thursday_script\thursday_road_to_town.rpy',r'thursday_script\thursday_sybil\thursday_sybil.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "gray",
                "grey",
                far_mode="e",
                line_must_not_have=("stingray","grayed_out"),
                )
            except:
                patching_unsuccessful()
        
        # café
        for x in (r'monday_script\monday_part_2.rpy',r'monday_script\monday_woods.rpy',r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "cafe",
                "café",
                far_mode="e",
                line_must_not_have=("\"internet cafe\"","internet_cafe_move"),
                )
            except:
                patching_unsuccessful()
        
        # fixing "possum" actually requires a bit more complexity than you'd think
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_climax_returned_early.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "possum",
                "'possum",
                far_mode="e",
                line_must_not_have=("opossum","'possum")
                )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_sybil\thursday_sybil.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("Possum","I don't think you need to worried","offputting"),
            ("'possum","I don't think you need to be worried","off-putting"),
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'screens.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Dresser Possum",
            "Dresser 'Possum"
            )
        except:
            patching_unsuccessful()
        
        # great grand
        for x in (r'screens.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo_wrapup.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',r'monday_script\monday_woods.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("great great grand","great grand"),
                ("great-great-grand","great-grand"),
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # mom versus Mom
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy',r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy',r'thursday_script\thursday_sybil\thursday_sybil.rpy',r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ", mom",
                ", Mom",
                far_mode="e",
                line_must_not_have="moment",
                )
            except:
                patching_unsuccessful()
        
        # dad versus Dad
        for x in (r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_nexus.rpy',r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_store.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ", dad",
                ", Dad",
                far_mode="e",
                )
            except:
                patching_unsuccessful()
        
        # the doc v. the Doc/the Doctor
        for x in (r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\solo_clinic_pharmacy.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\solo_morgue_start.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\solo_reese_closet.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_ext_solo.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy',r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("the doc","The doc"),
                ("the Doc","The Doc"),
                far_mode="e",
                line_must_not_have=("document","doctors","#submenu"),
                )
                
                far_string_file(current_file_dir,
                ", doc",
                ", Doc",
                far_mode="e",
                line_must_not_have=("document","doctors"),
                )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "a Doctor",
            "a doctor",
            )
        except:
            patching_unsuccessful()
        
        # the "appreciative" fix
        for x in (r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "appreicative",
                "appreciative"
                )
            except:
                patching_unsuccessful()
        
        # various 'god' invocations
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_part_2.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',r'thursday_script\thursday_ending\solo\alone\thursday_solo_post_clinic_start.rpy',r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy',r'thursday_script\thursday_explore_nexus\strike\thursday_strike_staging.rpy',r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy',r'thursday_script\thursday_explore_nexus\thursday_stella_explore.rpy',r'thursday_script\thursday_start.rpy',r'tuesday_script\tuesday_library.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'tuesday_script\tuesday_mines_path.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_staneeka.rpy',r'tuesday_script\tuesday_start_stella.rpy',r'tuesday_script\tuesday_town_stella.rpy',r'tuesday_script\tuesday_town_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo_wrapup.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_tabitha_wrapup.rpy',r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy',r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy',r'wednesday_script\wednesday_library\wednesday_library_default.rpy',r'wednesday_script\wednesday_reese\wednesday_reese.rpy',r'monday_script\monday_woods.rpy',r'monday_script\monday_climax_returned_early.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',r'screens.rpy',r'special_scripts\recap_hub.rpy',r'thursday_script\thursday_ending\thursday_estate_end.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_strong.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_weak.rpy',r'wednesday_script\wednesday_hangouts\wednesday_avery.rpy',r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy',r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy',r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_other.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\thursday_oscar_nexus.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_start.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("onest to god","onest to God","od knows what","od knows where"),
                ("onest-to-God","onest-to-God","od-knows-what","od-knows-where"),
                far_mode="e",
                )
                
                if x == r'thursday_script\thursday_start.rpy':
                    far_string_file(current_file_dir,
                    "od-forsaken",
                    "odforsaken",
                    )
                elif x in (r'monday_script\monday_climax_duke_dies.rpy',r'special_scripts\recap_hub.rpy',r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_weak.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_trial_tabitha.rpy'):
                    far_string_file(current_file_dir,
                    "od-damn",
                    "oddamn",
                    )
                
                if x != r'wednesday_script\wednesday_store.rpy':
                    far_string_file(current_file_dir,
                    "god",
                    "God",
                    far_mode="e",
                    line_must_not_have=("_god","god_","gods","godd","godf","godl","a kind god","a god","ergodic"),
                    )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "God Knows What",
            "God-Knows-What",
            )
        except:
            patching_unsuccessful()
        
        # French
        for x in (r'thursday_script\thursday_explore_nexus\police\thursday_police_duke.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "french",
                "French",
                )
            except:
                patching_unsuccessful()
        
        # wednesday_kitchen_street.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_kitchen_street.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("i'm","Rick","many of god"),
            ("I'm","Daniel","man of God"),
            )
        except:
            patching_unsuccessful()
            
        # this is a case of something sounding perfectly fine in text but being the sort of thing that someone wouldn't say out loud, which Tabitha canonically is. Maybe she would say it but it's still kinda iffy lol
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_tabitha_wrapup.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "I mean... okay, they aren't wrong. I've dated a few miners.",
            "I mean... okay, they aren't wrong. I've dated a few of my employees.",
            )
        except:
            patching_unsuccessful()
        
        # factitious disorder
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_mines_path.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Sounds a little like Factitious disorder...",
            "Sounds a little like factitious disorder..."
            )
        except:
            patching_unsuccessful()
            
        # swiss cheese
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_library.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "swiss cheese",
            "Swiss cheese",
            )
        except:
            patching_unsuccessful()
        
        # degrees
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "two hundred degrees",
            "200°",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "180 degrees",
            "180°",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "360 degrees",
            "360°",
            )
        except:
            patching_unsuccessful()
        
        # YouTube
        for x in (r'monday_script\monday_woods.rpy',):
            try:
                current_file_dir = os.path.join(game_dir,x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "Youtube",
                "YouTube",
                )
            except:
                patching_unsuccessful()
        
        # should be capitalized
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Oh, don't you get started again. if your daddy could",
            "Oh, don't you get started again. If your daddy could",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\strike\mines\thursday_mines_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Like I said earlier. sell the Estate",
            "Like I said earlier. Sell the Estate",
            )
        except:
            patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Come on, Dad. you're letting",
            "Come on, Dad. You're letting",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wedneday_haunt_solo_trial.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "I'm pretty all right. trauma like this",
            "I'm pretty all right. Trauma like this",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\solo\wednesday_haunt_solo.rpy',r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "I'm glad I did. it's good",
                "I'm glad I did. It's good",
                )
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_oscar.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "a dad should do. but",
            "a dad should do. But",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_library.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "And, hey! maybe",
            "And, hey! Maybe",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_stella.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Oh! hey",
            "Oh! Hey",
            )
        except:
            patching_unsuccessful()
            
        # smears
        for x in (r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy',):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                ("animated smears","little smears"),
                ("animated Smears","little Smears"),
                )
            except:
                patching_unsuccessful()
        
        # naive
        for x in (r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_ride_home.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "naive",
                "naïve",
                )
            except:
                patching_unsuccessful()
        
        ## misc capitalization
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_town_merge.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "Woah. not a lot",
            "Woah. Not a lot",
            )
        except:
            patching_unsuccessful()
        
        ## END SPELLING ##

        ## BUGFIXES ##
        # wrong variable tested
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_ghost_hunt_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "wednesday_hangout_choice != oscar",
            "wednesday_hangout_choice != \"oscar\""
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_sybil\thursday_sybil.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "thursday_sybil_reason != old",
            "thursday_sybil_reason != \"old\""
            )
        except:
            patching_unsuccessful()
        
        # flirting fixes
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            # This is probably a genuine oversight
            far_string_file(current_file_dir,
            "\"{i}• (Hot) (Flirt) ''It's kind of thrilling, isn't it? Having this secret together?''{/i}\" if hot:",
            "\"{i}• (Hot) (Flirt) ''It's kind of thrilling, isn't it? Having this secret together?''{/i}\" if hot and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Hot) (Flirt) ''I'm so glad you felt you could confide in me. I think we could make a good team.''{/i}\" if hot and old and thursday_checkup:",
            "\"{i}• (Hot) (Flirt) ''I'm so glad you felt you could confide in me. I think we could make a good team.''{/i}\" if hot and old and thursday_checkup and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Hot) (Flirt) ''So now that I'm in on all your secrets... I guess we're kind of a team, huh?''{/i}\" if hot and old == False:",
            "\"{i}• (Hot) (Flirt) ''So now that I'm in on all your secrets... I guess we're kind of a team, huh?''{/i}\" if hot and old == False and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''We don't have to be enemies, Doc... you don't have to be alone anymore.''{/i}\":",
            "\"{i}• (Flirt) ''We don't have to be enemies, Doc... you don't have to be alone anymore.''{/i}\" if romance == False:",
            )
            
            # This feels like a more appropriate set of criteria.
            far_string_file(current_file_dir,
            "if hot and romance == False and thursday_checkup_flirt:",
            "if romance == False and ((hot and thursday_checkup_flirt) or doctor_hot_lock):"
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\thursday_clinic_solo_doctor_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Hot and Powerful Build) (Flirt) ''Hope palpating a body like mine is as fun for you as it is for me.''{/i}\" if hot and powerful_build:",
            "\"{i}• (Hot and Powerful Build) (Flirt) ''Hope palpating a body like mine is as fun for you as it is for me.''{/i}\" if hot and powerful_build and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Hot) (Flirt) ''I hope this exam is as fun for you as it is for me.''{/i}\" if hot:",
            "\"{i}• (Hot) (Flirt) ''I hope this exam is as fun for you as it is for me.''{/i}\" if hot and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''How're my abs looking? Not bad, right?''{/i}\" if hot == False:",
            "\"{i}• (Flirt) ''How're my abs looking? Not bad, right?''{/i}\" if hot == False and romance == False:",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Hot) (Flirt) ''Of course, I understand your interest in my body. Let's go somewhere private.''{/i}\" if hot:",
            "\"{i}• (Hot) (Flirt) ''Of course, I understand your interest in my body. Let's go somewhere private.''{/i}\" if hot and romance == False:"
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''Did you just say you were interested in my body? Should... should we go someplace private?''{/i}\" if hot == False:",
            "\"{i}• (Flirt) ''Did you just say you were interested in my body? Should... should we go someplace private?''{/i}\" if hot == False and romance == False:"
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''Anything you say, Doctor. Shall we go somewhere private?''{/i}\":",
            "\"{i}• (Flirt) ''Anything you say, Doctor. Shall we go somewhere private?''{/i}\" if romance == False:",
            )
        except:
            patching_unsuccessful()
        
        for x in (r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "\"{i}• (Flirt) ''Okay but what if I wanted to hang out with {b}you{/b}?''{/i}\":",
                "\"{i}• (Flirt) ''Okay but what if I wanted to hang out with {b}you{/b}?''{/i}\" if romance == False:",
                )
            except:
                patching_unsuccessful()
        
        for x in (r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_keen_eye.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_kids_buried.rpy',r'thursday_script\thursday_explore_nexus\oscar\maxwell\thurs_maxwell_rosalina_injured.rpy',r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_other.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                far_string_file(current_file_dir,
                "if wednesday_hangout_choice == \"oscar\" or wednesday_post_ghost_oscar_flirt or oscar_flirt >= 2:",
                "if (wednesday_hangout_choice == \"oscar\" or wednesday_post_ghost_oscar_flirt or oscar_flirt >= 2) and romance == False:",
                )
            except:
                patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_road_to_town.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Explore) (Hot) (Flirt) ''So good to see your lovely face first thing in the morning.''{/i}\" if thursday_avery_walk_flirt == False and hot:",
            "\"{i}• (Explore) (Hot) (Flirt) ''So good to see your lovely face first thing in the morning.''{/i}\" if thursday_avery_walk_flirt == False and hot and romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• (Explore) (Hot) (Flirt) ''You're stylish as always, even the morning after being trapped in a nightmare realm.''{/i}\" if hot and thursday_town_arrival_kaneeka_flirt == False:",
            "\"{i}• (Explore) (Hot) (Flirt) ''You're stylish as always, even the morning after being trapped in a nightmare realm.''{/i}\" if hot and thursday_town_arrival_kaneeka_flirt == False and romance == False:",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''Wish I'd been awake while you carried me...''{/i}\" if reese_true_flirt:",
            "\"{i}• (Flirt) ''Wish I'd been awake while you carried me...''{/i}\" if reese_true_flirt and romance == False:",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Flirt) ''I'd love nothing more.''{/i}\":",
            "\"{i}• (Flirt) ''I'd love nothing more.''{/i}\" if romance == False:",
            )
        except:
            patching_unsuccessful()
        
        # screens.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'screens.rpy')
            attempting_to_patch(current_file_dir)
            
            # it is genuinely kind of hard to tell what was supposed to go here. but this is my guess
            far_string_file(current_file_dir,
            "if tabitha_warned_strike and tabitha_warned_strike == False:",
            "if tabitha_warned_strike and tabitha_warned_strike_late == False:",
            )
        except:
            patching_unsuccessful()
            
        # double equals when should be single
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ forced_short == False",
            "$ forced_short = False",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\strike\thursday_strike_staging.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ thursday_diner_avery_ghost_share == True",
            "$ thursday_diner_avery_ghost_share = True",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_start_stella.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ tuesday_need_clothes == False",
            "$ tuesday_need_clothes = False",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_avery.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ wednesday_avery_turn == False",
            "$ wednesday_avery_turn = False",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        # not technically a bugfix but I don't know where else to put this
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\oscar\library\thursday_library_injured.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ thursday_oscar_doctor_condition_explore= True",
            "$ thursday_oscar_doctor_condition_explore = True",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "$ previous_dialogue= \"",
            "$ previous_dialogue = \"",
            far_mode="e",
            )
        except:
            patching_unsuccessful()
            
        # wrong image
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("show tabitha dr sheepish","show tabitha nervous genuine talk"),
            ("show tabitha drn sheepish","show tabitha drn nervous genuine talk"),
            )
        except:
            patching_unsuccessful()
        
        # testing for clinic_help_wayne_fight
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\clinic_solo_incident.rpy')
            attempting_to_patch(current_file_dir)
            
            far_line_file(current_file_dir,
            "            reesem \"''[player_name]... I thought we were in this together...''\"\n",
            "            if clinic_help_wayne_fight:\n                reesem \"''...You really must hate me, [player_name]...''\"\n            else:\n                reesem \"''[player_name]... I thought we were in this together...''\"\n",
            )
        except:
            patching_unsuccessful()
        
        ## END BUGFIXES ##
        
        ## TALK SPRITES BEFORE DIALOGUE ##
        
        # stella
        for x in (r'monday_script\monday_climax_both_survive.rpy',r'monday_script\monday_climax_duke_dies.rpy',r'monday_script\monday_climax_gretchen_dies.rpy',r'monday_script\monday_climax_returned_early.rpy',r'monday_script\monday_end.rpy',r'monday_script\monday_part_2.rpy',r'monday_script\monday_woods.rpy',r'tuesday_script\tuesday_library.rpy',r'tuesday_script\tuesday_mines_arrival.rpy',r'tuesday_script\tuesday_mines_path.rpy',r'tuesday_script\tuesday_start_stella.rpy',r'tuesday_script\tuesday_start_tabitha.rpy',r'tuesday_script\tuesday_town_merge.rpy',r'tuesday_script\tuesday_town_stella.rpy',r'tuesday_script\tuesday_town_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                if x.startswith("monday"):
                    stella_notalks = (
                    "stella c serious",
                    "stella g camera tilt",
                    "stella g glance melancholy",
                    "stella g glance sad",
                    "stella g glance",
                    "stella g phone tilt",
                    "stella glance melancholy",
                    "stella glance sad",
                    "stella glance",
                    "stella n glance melancholy",
                    "stella n glance sad",
                    "stella n glance",
                    "stella ng glance melancholy",
                    "stella ng glance sad",
                    "stella ng glance",
                    )
                else:
                    stella_notalks = (
                    "stella t dead smile",
                    "stella t glance apologetic",
                    "stella t glance melancholy",
                    "stella t glance puppy",
                    "stella t glance sad",
                    "stella t glance serious",
                    "stella t glance",
                    "stella t puppy",
                    "stella t serious",
                    "stella t thinking",
                    "stella tg dead smile",
                    "stella tg glance apologetic",
                    "stella tg glance melancholy",
                    "stella tg glance puppy",
                    "stella tg glance serious",
                    "stella tg puppy",
                    "stella tg thinking",
                    )
                
                glo_lines_update(current_file_dir)
                
                pf_stellatalk_replacements_done = 0
                
                for i in range(len(glo_lines)):
                    if "show stella" in glo_lines[i] and "talk" not in glo_lines[i]:
                        for sprite in stella_notalks:
                            # line is show that sprite
                            if glo_lines[i].replace("    ","") == ("show "+sprite+"\n"):
                                # subsequent line is stella dialogue
                                if glo_lines[i+1].replace("    ","").startswith("stella \""):
                                    # replace the line itself
                                    glo_lines[i] = ("    "*number_of_tabs(glo_lines[i]))+"show "+sprite+" talk\n"
                                    pf_stellatalk_replacements_done += 1
                                    glo_replacements_done += 1
                                    
                if pf_stellatalk_replacements_done > 0:
                    out = open(current_file_dir, 'w', encoding='utf-8')
                    out.writelines(glo_lines)
                    out.close()
                    
                    if pf_stellatalk_replacements_done == 1:
                        print("Successfully made 1 replacement.")
                    else:
                        print("Successfully made " + str(pf_stellatalk_replacements_done) + " replacements.")
            except:
                patching_unsuccessful()
        ## END TALK SPRITES ##
        
        ## FORCED SHORT ##
        
        # monday 
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"tabitha \"''And now you'll sleep here. Carrying on the fine tradition of bedrooms being slept in.''\"")
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"stella \"''Wait, what? Are... are you messing with me? You can't actually talk to my dog, right?''\"")
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_woods.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"stella \"''I know it's a second-hand source, but there's plenty more like it, and if they {b}{i}are{/i}{/b} true...''\"")
            
            insert_forced_short(current_file_dir,"duke \"''An {b}{i}eye{/i}{/b} for an {b}{i}eye{/i}{/b}. A {b}{i}life{/i}{/b} for a {b}{i}life{/i}{/b}.''\"")
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_climax_gretchen_dies.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"duke \"'''Spose the boy and I are in for some long nights guarding the rest of 'em from them things.''\"")
        except:
            patching_unsuccessful()
        
        # tuesday
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_mines_arrival.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"kaneeka \"''We're probably less likely to get caught if only one of us is snooping around down there.''\"")
            
            insert_forced_short(current_file_dir,"\"{i}You pass through the unlocked fence and enter the property of the Scarlet Hollow mine.{/i}\"")
            
            insert_forced_short(current_file_dir,"harrison \"''I just started last year. If I just up and left I don't think anyone else would hire me.''\"")
            
            insert_forced_short(current_file_dir,"kaneeka \"''{i}Don't worry about the miners storming off like that. That's some pretty good info.{/i}''\"")
            
            insert_forced_short(current_file_dir,"stella \"''{i}Woah. I {b}thought{/b} I saw some action down there. Are you okay?{/i}''\"")
            
            insert_forced_short(current_file_dir,"stella \"''{i}Woah. I {b}thought{/b} I saw you talking to someone down there. Are you okay?{/i}''\"")
            
            insert_forced_short(current_file_dir,"tabitha \"''{i}God, I don't even know why I'm trying to reason with you. It's not like you'll listen.{/i}''\"")
        except:
            patching_unsuccessful()
            
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                insert_forced_short(current_file_dir,"\"{i}The voices around you, those of the teens and your companions, sound odd. Distant.{/i}\"")
                
                insert_forced_short(current_file_dir,"\"{i}There is something in the darkness before you that's much louder, though you don't hear it.{/i}\"")
                
                insert_forced_short(current_file_dir,"kaneeka \"''I have no idea what happened in there. I need to do some reading on mine collapses, I guess.''\"")
                
                if "keen" not in x:
                    insert_forced_short(current_file_dir,"derekson \"''We {b}{i}are{/i}{/b} doing our jobs. And our job right now is to get answers about what happened here.''\"")
            except:
                patching_unsuccessful()
                
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_kaneeka.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                insert_forced_short(current_file_dir,"\"{i}The knocking is deafening now, as if someone were trying to break through the walls with fists of iron.{/i}\"")
                
                insert_forced_short(current_file_dir,"kaneeka \"''Just because [pronouns[singular_subject]] passed out or had a seizure doesn't mean it {b}{i}wasn't{/i}{/b} autosuggestion...''\"")
            except:
                patching_unsuccessful()
                
        for x in (r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy',r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
                
                insert_forced_short(current_file_dir,"kaneeka \"''Just because they passed out or had seizures doesn't mean it {b}{i}wasn't{/i}{/b} autosuggestion...''\"")
            except:
                patching_unsuccessful()
                
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            insert_forced_short(current_file_dir,"\"{i}It's deafening now, as if someone were trying to break through the walls with fists of iron.{/i}\"")
        except:
            patching_unsuccessful()
        ## END Forced short ##

        ## LARGE SCALE BY FILE ##
        # script.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'script.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            ("The funeral of Pearlanne Scarlet— your cousin's mother and your aunt— seemed like something you shouldn't ignore, even considering your own late mother's rocky relationship with this side of the family.","I was up in Maryland, lookin' for work but mostly messin around because I was a dumb teen.","Whatever it is you think you're doing right now. You know what I'm talking about. This whole corner a stranger on the bus and try to make them uncomfortable act. I'm not playing along.","But I don't know, I'm just goin with the flow. Maybe other folks don't do that enough.","\"You don't say a word. The last thing you need right now is for him to know where you're going to be staying for the next week.\"","\"''You put your hand up to say ''no.''\"","    \"You take the peanuts.\"","''That's kind of... sad''","''#GirlBoss''","bs \"''She'll understand. she's chill.''\"","HA! that's rich"),
            ("The funeral of Pearlanne Scarlet—your cousin's mother and your aunt—seemed like something you shouldn't ignore, even considering your own late mother's rocky relationship with this side of the family.","I was up in Maryland, lookin' for work but mostly messin' around because I was a dumb teen.","Whatever it is you think you're doing right now. You know what I'm talking about. This whole 'corner a stranger on the bus and try to make them uncomfortable' act. I'm not playing along.","But I don't know, I'm just goin' with the flow. Maybe other folks don't do that enough.","\"{i}You don't say a word. The last thing you need right now is for him to know where you're going to be staying for the next week.{/i}\"","\"{i}You put your hand up to say 'no'.{/i}\"","    \"{i}You take the peanuts.{/i}\"","''That's kind of... sad.''","''#GirlBoss.''","bs \"''She'll understand. She's chill.''\"","HA! That's rich"),
            )
            
            far_string_file(current_file_dir,
            ("\"{i}• (Explore) (Lie) ''This room is nice, thank you{/i}.''\"","\"{i}• (Explore) (Lie) ''This room is nice, thank you{/i}.''{/i}\""),
            ("\"{i}• (Explore) (Lie) ''This room is nice, thank you.''{/i}\"","\"{i}• (Explore) (Lie) ''This room is nice, thank you.''{/i}\""),
            far_mode="e",
            )
        except:
            patching_unsuccessful()
        
        # thursday_start.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_start.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"(Keen Eye) And judging by the {b}residue{/b} that was left behind, you're pretty sure you know the culprit. That means he was in your room. But was he there while you were out the previous day, or did he enter while you slept unawares just a few feet away?\"",
            "\"{i}(Keen Eye) And judging by the {b}residue{/b} that was left behind, you're pretty sure you know the culprit. That means he was in your room. But was he there while you were out the previous day, or did he enter while you slept unawares just a few feet away?{/i}\"",
            )
            
            far_string_file(current_file_dir,
            "\"{i}It's just a padlock. You can pick something like this open in a second.{/i}\"",
            "\"{i}(Street Smart) It's just a padlock. You can pick something like this open in a second.{/i}\""
            )
            
            # bugfix. normally this option straight up won't appear because they made a typo
            far_string_file(current_file_dir,
            "                                                                \"{i}• (Explore) ''Hey, whoever you are, there's a 'possum that would like you to leave. She was here first. This is her house.''{/i}\" if thursday_goat_opossum and (wednesday_dustin_mom_glass_house or thursday_dustin_tta_quest):\n",
            "                                                                \"{i}• (Explore) ''Hey, whoever you are, there's a 'possum that would like you to leave. She was here first. This is her house.''{/i}\" if thursday_goat_opossum == False and (wednesday_dustin_mom_glass_house or thursday_dustin_tta_quest):\n"
            )
            
            # bugfix. if you have Keen Eye, TTA, and (PB or SS), and you hung out with Tabitha on Wednesday, it's possible to get sent to the non-TTA version of the menu even though you have TTA. All this does is send you straight back to the TTA menu as if nothing happened.
            glo_lines_update(current_file_dir)
            goat_fix_index = glo_lines.index("                                                        label thursday_greenhouse_inside_no_animals:\n")
            
            if glo_lines[goat_fix_index+1] != "                                                            if animals:\n":
                far_line_file(current_file_dir,
                "                                                        label thursday_greenhouse_inside_no_animals:\n",
                "                                                        label thursday_greenhouse_inside_no_animals:\n                                                            if animals:\n                                                                jump thursday_goat_chat\n"
                )
            
            # some would call this a bugfix? it can mention the squatter even if you don't know about it
            glo_lines_update(current_file_dir)
            goat_fix_2_index = glo_lines.index("                                            \"{i}What a strange thing to keep in a greenhouse. Especially one so isolated and overgrown.{/i}\"\n")
            
            if glo_lines[goat_fix_2_index-1] != "                                        if animals == False or (wednesday_dustin_mom_glass_house == False and thursday_dustin_tta_quest == False):\n":
                replace_line(current_file_dir, (goat_fix_2_index-1), "                                        if animals == False or (wednesday_dustin_mom_glass_house == False and thursday_dustin_tta_quest == False):\n")
        except:
            patching_unsuccessful()
        ## END LSBF ##

        ## MISC ##
        # I really want to change all this so that Stella doesn't somehow have cosmic knowledge of whether or not you're in a relationship with someone. It'll make the scene feel more realistic and interesting with Stella having unrequited feelings
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy')
            attempting_to_patch(current_file_dir)
            
            glo_lines_update(current_file_dir)
            
            pf_aneurism_index = glo_lines.index("        stella \"''I can walk you through the woods so you don't get lost. Then I guess you should probably get back to Tabitha before you give her an aneurysm.''\"\n")
            pf_andthisisme_index = glo_lines.index("        stella \"''And this is me! I guess I'll see you tomorrow.''\"\n")
            pf_missedyoutoo_index = glo_lines.index("                stella \"''I missed you too. I'm sorry I was gone.''\"\n")
            
            if glo_lines[pf_aneurism_index-2] == "    if romance:\n":
                replace_line(current_file_dir, pf_aneurism_index-2, "    if (thursday_stella_updated and romance_lock == \"reese\"):\n")
            if glo_lines[pf_andthisisme_index-1] == "    if romance:\n":
                replace_line(current_file_dir, pf_andthisisme_index-1, "    if (thursday_stella_updated and romance_lock == \"reese\"):\n")
            if glo_lines[pf_missedyoutoo_index-2] == "            if romance == False:\n":
                replace_line(current_file_dir, pf_missedyoutoo_index-2, "            if (thursday_stella_updated and romance_lock == \"reese\") == False:\n")
        except:
            patching_unsuccessful()
            
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy')
            attempting_to_patch(current_file_dir)
            
            glo_lines_update(current_file_dir)
            
            pf_probablyshouldntstay_index = glo_lines.index("    stella \"''I probably shouldn't stay out here much longer. I've been awake for a {b}{i}really{/i}{/b} long time.''\"\n")
            pf_gladjustus_index = glo_lines.index("            stella \"''I'm kind of glad it's just us.''\"\n")
            pf_missedyoutoo_index = glo_lines.index("                stella \"''I missed you too. I'm sorry I was gone.''\"\n")
            
            if glo_lines[pf_probablyshouldntstay_index+1] == "    if romance == False:\n":
                replace_line(current_file_dir, pf_probablyshouldntstay_index+1, "    if (thursday_stella_updated and romance_lock == \"reese\") == False:\n")
            if glo_lines[pf_gladjustus_index-1] == "        if romance == False:\n":
                replace_line(current_file_dir, pf_gladjustus_index-1, "        if (thursday_stella_updated and romance_lock == \"reese\") == False:\n")
            if glo_lines[pf_missedyoutoo_index-1] == "            if romance == False:\n":
                replace_line(current_file_dir, pf_missedyoutoo_index-1, "            if (thursday_stella_updated and romance_lock == \"reese\") == False:\n")
                
            # unrelated bugfix
            if glo_lines[pf_gladjustus_index+1] == "    if thursday_stella_call_mean:\n":
                replace_line(current_file_dir, pf_gladjustus_index+1, "    elif thursday_stella_call_mean:\n")
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\tabitha\thursday_post_clinic_tabitha_start.rpy')
            attempting_to_patch(current_file_dir)
            
            # similarly, we're preventing Tabitha from having magical cosmic knowledge of who you're dating
            if string_in_file(current_file_dir,"(reese_boyfriend_comment or tabitha_knows_dating_kaneeka)") == False:
                far_string_file(current_file_dir,
                "if romance == False and tabitha_relationship[\"open\"] - tabitha_relationship[\"closed\"] > 15:",
                "if (reese_boyfriend_comment) == False and tabitha_relationship[\"open\"] - tabitha_relationship[\"closed\"] > 15:"
                )
            
            far_string_file(current_file_dir,
            "\"{i}• ''That's surprisingly thoughtful. Thanks, Tabitha.''{/i}\":",
            "\"{i}• ''That's surprisingly thoughtful. Thanks, Tabitha.''{/i}\" if romance == False:"
            )
            
            far_string_file(current_file_dir,
            "\"{i}• ''It doesn't matter that Stella and I have a thing. You two need to reconcile. We're talking to her together.''{/i}\":",
            "\"{i}• ''It doesn't matter that Stella and I have a thing. You two need to reconcile. We're talking to her together.''{/i}\" if romance == False:"
            )
            
            far_string_file(current_file_dir,
            "\"{i}• ''It doesn't matter if Stella and I have a thing. You two need to reconcile. We can both talk to her together.''{/i}\":",
            "\"{i}• ''It doesn't matter if Stella and I have a thing. You two need to reconcile. We can both talk to her together.''{/i}\" if romance == False:",
            )
            
            far_string_file(current_file_dir,
            "if wednesday_hangout_choice == \"stella\" and romance == False:",
            "if wednesday_hangout_choice == \"stella\" and (thursday_stella_updated and romance_lock == \"reese\") == False:",
            )
        except:
            patching_unsuccessful()
        
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            if string_in_file(current_file_dir,"(reese_boyfriend_comment or tabitha_knows_dating_kaneeka)") == False:
                far_string_file(current_file_dir,
                "if romance == False and (",
                "if (reese_boyfriend_comment) == False and (",
                )
            
            far_string_file(current_file_dir,
            "\"{i}• ''Yeah, I guess we kind of do. Thanks, Tabitha.''{/i}\":",
            "\"{i}• ''Yeah, I guess we kind of do. Thanks, Tabitha.''{/i}\" if romance == False:",
            )
            
            far_string_file(current_file_dir,
            "\"{i}• ''It doesn't matter that Stella and I have a thing. You two need to reconcile. We can both talk to her together.''{/i}\":",
            "\"{i}• ''It doesn't matter that Stella and I have a thing. You two need to reconcile. We can both talk to her together.''{/i}\" if romance == False:",
            )
        except:
            patching_unsuccessful()
            
        for x in (r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_spot.rpy',r'thursday_script\thursday_ending\solo\alone\stella\thursday_stella_porch.rpy',r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_porch_tabitha.rpy',r'thursday_script\thursday_ending\solo\tabitha\stella\thursday_stella_spot_tabitha.rpy'):
            try:
                current_file_dir = os.path.join(game_dir, x)
                attempting_to_patch(current_file_dir)
            
                # correcting these, now that the parent condition is different
                far_string_file(current_file_dir,
                "\"{i}• (Romance) ''I was hoping you'd ask. I'd love to.''{/i}\":",
                "\"{i}• (Romance) ''I was hoping you'd ask. I'd love to.''{/i}\" if romance == False:",
                )
                
                far_string_file(current_file_dir,
                "\"{i}• (Romance) ''Yeah, I feel the same.'' Wink.{/i}\":",
                "\"{i}• (Romance) ''Yeah, I feel the same.'' Wink.{/i}\" if romance == False:",
                )
                
                far_string_file(current_file_dir,
                "\"{i}• (Romance) ''Yes please.''{/i}\":",
                "\"{i}• (Romance) ''Yes please.''{/i}\" if romance == False:",
                )
                
                far_string_file(current_file_dir,
                "\"{i}• (Romance) Follow her inside.{/i}\":",
                "\"{i}• (Romance) Follow her inside.{/i}\" if romance == False:",
                )
            except:
                patching_unsuccessful()
        
        # similar to above but for Kaneeka. This doesn't actually change anything I don't think, but I'll just be careful.
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_sybil\thursday_kaneeka_romance.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "    if romance == False:",
            "    if thursday_kaneeka_can_romance and (romance_lock == \"oscar\") == False:",
            )
        except:
            patching_unsuccessful()
        
        # tuesday_mines_path.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'tuesday_script\tuesday_mines_scripts\tuesday_mines_depths_keen_kaneeka.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "pronouns[\"singular_subject\"] + \" they ",
            "pronouns[\"singular_subject\"] + \" ",
            far_mode="e",
            )
            
            far_string_file(current_file_dir,
            "Whelp. it sure sounds",
            "Whelp. It sure sounds",
            )
        except:
            patching_unsuccessful()
            
        # wednesday_kaneeka.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_hangouts\wednesday_kaneeka.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"''''What if ghosts are just a red-herring. What if all of this is actually because of aliens?''\"",
            "\"''What if ghosts are just a red-herring. What if all of this is actually because of aliens?''\""
            )
        except:
            patching_unsuccessful()
            
        # monday_part_2.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'monday_script\monday_part_2.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "p \"''No, I mean what's 'YouTuber?''\"",
            "p \"''No, I mean what's 'YouTuber?'''\""
            )
            
            far_string_file(current_file_dir,
            "Haha dang that's a pretty smooth line. It almost made me forget all about the projectile vomiting. I kid.",
            "Haha! Dang, that's a pretty smooth line. It almost made me forget all about the projectile vomiting. I kid.",
            )
        except:
            patching_unsuccessful()
            
        # thursday_explore_nexus.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thursday_explore_nexus\thursday_explore_nexus.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "avery \"[player_name], you okay?\"",
            "avery \"''[player_name], you okay?''\"",
            )
        except:
            patching_unsuccessful()
            
        # solo_clinic_pharmacy.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\opening\solo_clinic_pharmacy.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}The front door to the clinic open and close, the creak of its antique hinges echoing down the hallway. Footsteps start down the hall.{/i}\"",
            "\"{i}The front door to the clinic opens and closes, the creak of its antique hinges echoing down the hallway. Footsteps start down the hall.{/i}\"",
            )
        except:
            patching_unsuccessful()
        
        # thursday_solo_basement.rpy
        try:
            current_file_dir = os.path.join(game_dir, r'thursday_script\thurday_clinic\clinic_solo\incident\thursday_solo_basement.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "''Didn't you hear me earlier? Stella is still missing. I have to keep looking for her''",
            "''Didn't you hear me earlier? Stella is still missing. I have to keep looking for her.''",
            )
            
            far_string_file(current_file_dir,
            "if wednesday_reese_events_wayne:",
            "if wednesday_reese_events_wayne or wednesday_dinner_wayne_explore:",
            )
        except:
            patching_unsuccessful()
        
        # why this isn't a keen eye option is fucking beyond me
        try:
            current_file_dir = os.path.join(game_dir, r'wednesday_script\wednesday_ghost_hunt\wednesday_haunt\tabitha\wednesday_haunt_tabitha.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "\"{i}• (Explore) ''Do you see that creature behind the thorns? That's one of the bad omens Stella and I found in the woods.''{/i}\" if wednesday_haunt_tabitha_ditchlings == False:",
            "\"{i}• (Explore) (Keen Eye) ''Do you see that creature behind the thorns? That's one of the bad omens Stella and I found in the woods.''{/i}\" if keen_eye and wednesday_haunt_tabitha_ditchlings == False:",
            )
        except:
            patching_unsuccessful()
        
        # better screen fix actually
        try:
            current_file_dir = os.path.join(game_dir, r'screens.rpy')
            attempting_to_patch(current_file_dir)
            
            far_string_file(current_file_dir,
            "on \"show\" action SetVariable(\"dialogue_length\", len(_history_list[-1].what))",
            "on \"show\" action SetVariable(\"dialogue_length\", true_txt_len(_history_list[-1].what))",
            )
            
            far_string_file(current_file_dir,
            "elif dialogue_length > 93:",
            "elif dialogue_length >= 821:",
            )
        except:
            patching_unsuccessful()
        
        # adding special characters to the onscreen keyboard
        ## This is stupid, dummying out
        if False:
            try:
                current_file_dir = os.path.join(game_dir, r'screens.rpy')
                attempting_to_patch(current_file_dir)
                
                if line_in_file(current_file_dir,"    default key_special = False\n") == False:
                    far_line_file(current_file_dir,"    default key_upper = True\n","    default key_upper = True\n    default key_special = False\n")
                
                ##
                far_line_file(current_file_dir,"                        grid 2 2:\n","                        grid 3 2:\n                            textbutton \"Special\" action [SetScreenVariable('key_special', True)]\n                            null\n")
                far_line_file(current_file_dir,"                        grid 2 2:\n","                        grid 3 2:\n                            textbutton \"Special\" action [SetScreenVariable('key_special', True)]\n                            null\n")
                
                ##
                glo_lines_update(current_file_dir)
                pf_anchor = glo_lines.index("                        textbutton \"a\" action EmulateKeyboard(\"a\")\n")
                if glo_lines[pf_anchor-2] == "                        spacing 1\n":
                    replace_line(current_file_dir, pf_anchor-2, "                        spacing 1\n                        xalign 0.475\n")
                
                glo_lines_update(current_file_dir)
                pf_anchor = glo_lines.index("                        textbutton \"A\" action [EmulateKeyboard(\"A\"), SetScreenVariable('key_upper', False)]\n")
                if glo_lines[pf_anchor-3] == "                        spacing 1\n":
                    replace_line(current_file_dir, pf_anchor-3, "                        spacing 1\n                        xalign 0.475\n")
                
                if line_in_file(current_file_dir,"            if key_upper and key_special:\n") == False:
                    glo_lines_update(current_file_dir)
                    pf_script_anchor = glo_lines.index("            if key_upper:\n")
                    
                    pf_script_replacement_line_list = (
                    "            if key_upper and key_special:\n",
                    "                vbox:\n",
                    "                    xalign 0.5\n",
                    "                    yalign 0.98\n",
                    "                    grid 11 3:\n",
                    "                        spacing 1\n",
                    "                        xalign 0.475\n",
                    "                        \n",
                    "                        textbutton \"À\" action [EmulateKeyboard(\"À\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"È\" action [EmulateKeyboard(\"È\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ì\" action [EmulateKeyboard(\"Ì\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ò\" action [EmulateKeyboard(\"Ò\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ù\" action [EmulateKeyboard(\"Ù\"), SetScreenVariable('key_upper', False)]\n",
                    "                        null\n",
                    "                        textbutton \"Á\" action [EmulateKeyboard(\"Á\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"É\" action [EmulateKeyboard(\"É\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Í\" action [EmulateKeyboard(\"Í\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ó\" action [EmulateKeyboard(\"Ó\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ú\" action [EmulateKeyboard(\"Ú\"), SetScreenVariable('key_upper', False)]\n",
                    "                        \n",
                    "                        textbutton \"Ä\" action [EmulateKeyboard(\"Ä\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ë\" action [EmulateKeyboard(\"Ë\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ï\" action [EmulateKeyboard(\"Ï\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ö\" action [EmulateKeyboard(\"Ö\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ü\" action [EmulateKeyboard(\"Ü\"), SetScreenVariable('key_upper', False)]\n",
                    "                        null\n",
                    "                        textbutton \"Â\" action [EmulateKeyboard(\"Â\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ê\" action [EmulateKeyboard(\"Ê\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Î\" action [EmulateKeyboard(\"Î\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ô\" action [EmulateKeyboard(\"Ô\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Û\" action [EmulateKeyboard(\"Û\"), SetScreenVariable('key_upper', False)]\n",
                    "                        \n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        textbutton \"Ç\" action [EmulateKeyboard(\"Ç\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"Ñ\" action [EmulateKeyboard(\"Ñ\"), SetScreenVariable('key_upper', False)]\n",
                    "                        textbutton \"-\" action [EmulateKeyboard(\"-\"), SetScreenVariable('key_upper', False)]\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        \n",
                    "                    hbox:\n",
                    "                        xalign 0.5\n",
                    "                        grid 3 2:\n",
                    "                            textbutton \"Special\" action [SetScreenVariable('key_special', False)]\n",
                    "                            null\n",
                    "                            textbutton \"Case\" action [SetScreenVariable('key_upper', False)]\n",
                    "                            textbutton \"Space\" action EmulateKeyboard(\" \")\n",
                    "                            textbutton \"Back\" action PostEvent('input_backspace')\n",
                    "                            textbutton \"Enter\" action PostEvent('input_enter')\n",
                    "            elif key_special:\n",
                    "                vbox:\n",
                    "                    xalign 0.5\n",
                    "                    yalign 0.98\n",
                    "                    grid 11 3:\n",
                    "                        spacing 1\n",
                    "                        xalign 0.475\n",
                    "                        \n",
                    "                        textbutton \"à\" action [EmulateKeyboard(\"à\")]\n",
                    "                        textbutton \"è\" action [EmulateKeyboard(\"è\")]\n",
                    "                        textbutton \"ì\" action [EmulateKeyboard(\"ì\")]\n",
                    "                        textbutton \"ò\" action [EmulateKeyboard(\"ò\")]\n",
                    "                        textbutton \"ù\" action [EmulateKeyboard(\"ù\")]\n",
                    "                        null\n",
                    "                        textbutton \"á\" action [EmulateKeyboard(\"á\")]\n",
                    "                        textbutton \"é\" action [EmulateKeyboard(\"é\")]\n",
                    "                        textbutton \"í\" action [EmulateKeyboard(\"í\")]\n",
                    "                        textbutton \"ó\" action [EmulateKeyboard(\"ó\")]\n",
                    "                        textbutton \"ú\" action [EmulateKeyboard(\"ú\")]\n",
                    "                        \n",
                    "                        textbutton \"ä\" action [EmulateKeyboard(\"ä\")]\n",
                    "                        textbutton \"ë\" action [EmulateKeyboard(\"ë\")]\n",
                    "                        textbutton \"ï\" action [EmulateKeyboard(\"ï\")]\n",
                    "                        textbutton \"ö\" action [EmulateKeyboard(\"ö\")]\n",
                    "                        textbutton \"ü\" action [EmulateKeyboard(\"ü\")]\n",
                    "                        null\n",
                    "                        textbutton \"â\" action [EmulateKeyboard(\"â\")]\n",
                    "                        textbutton \"ê\" action [EmulateKeyboard(\"ê\")]\n",
                    "                        textbutton \"î\" action [EmulateKeyboard(\"î\")]\n",
                    "                        textbutton \"ô\" action [EmulateKeyboard(\"ô\")]\n",
                    "                        textbutton \"û\" action [EmulateKeyboard(\"û\")]\n",
                    "                        \n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        textbutton \"ç\" action [EmulateKeyboard(\"ç\")]\n",
                    "                        textbutton \"ñ\" action [EmulateKeyboard(\"ñ\")]\n",
                    "                        textbutton \"-\" action [EmulateKeyboard(\"-\")]\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        null\n",
                    "                        \n",
                    "                    hbox:\n",
                    "                        xalign 0.5\n",
                    "                        grid 3 2:\n",
                    "                            textbutton \"Special\" action [SetScreenVariable('key_special', False)]\n",
                    "                            null\n",
                    "                            textbutton \"Case\" action [SetScreenVariable('key_upper', True)]\n",
                    "                            textbutton \"Space\" action EmulateKeyboard(\" \")\n",
                    "                            textbutton \"Back\" action PostEvent('input_backspace')\n",
                    "                            textbutton \"Enter\" action PostEvent('input_enter')\n",
                    )
                    
                    pf_script_replacement_line = "".join(pf_script_replacement_line_list) + "            elif key_upper:\n"
                
                    replace_line(current_file_dir, pf_script_anchor, pf_script_replacement_line)
            except:
                patching_unsuccessful()
        
    print("Loop #" + str(pf_while_looped) + " of PF has been completed. glo_replacements_done is: " + str(glo_replacements_done))
    
    # If no changes have been made, we break from the loop. Otherwise, we run it again to make sure the user doesn't have to.
    if glo_replacements_done == 0:
        break